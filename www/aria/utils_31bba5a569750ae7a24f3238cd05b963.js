/*
 * Copyright Amadeus
 */
//***MULTI-PART
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/AriaWindow.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.AriaWindow",$dependencies:["aria.utils.Event"],$singleton:true,$constructor:function(){this._windowUsages=0},$destructor:function(){this._unloadWindow()},$events:{attachWindow:"This event is raised when Aria Templates is starting to store references on Aria.$window (when a call of attachWindow makes the counter pass from 0 to 1).",unloadWindow:"This event is raised when setWindow is called with a different window, or if the document is unloaded (for example on page navigation), and only if the window is used by Aria Templates (the counter is non-zero). Listeners should do the necessary to remove references to elements inside the Aria.$window.",
detachWindow:"This event is raised when Aria Templates no longer stores references on Aria.$window (when a call of detachWindow makes the counter pass from 1 to 0)."},$statics:{NEGATIVE_WINDOW_USAGES:"Calls to attachWindow/detachWindow lead to a negative counter: %1. The counter will be reset to 0.",WINDOW_STILL_USED_AFTER_UNLOAD:"Counter is not null after raising unloadWindow: %1. The counter will be reset to 0.",ALREADY_UNLOADING_WINDOW:"Aria.$window is already being unloaded."},$prototype:{attachWindow:function(){this._windowUsages++;
if(this._windowUsages===1){aria.utils.Event.addListener(Aria.$window,"unload",{fn:this._unloadWindow,scope:this});this.$raiseEvent("attachWindow")}},detachWindow:function(){if(this._windowUsages<=0)this.$logError(this.NEGATIVE_WINDOW_USAGES,[this._windowUsages-1]);else this._windowUsages--;this._windowUsages===0&&!this._isUnloadingWindow&&this._raiseDetachWindow()},_raiseDetachWindow:function(){this.$assert(42,this._windowUsages===0);this.$raiseEvent("detachWindow");aria.utils.Event.removeListener(Aria.$window,
"unload",{fn:this._unloadWindow,scope:this});aria.utils.Event.reset()},_unloadWindow:function(){if(this._isUnloadingWindow)this.$logError(this.ALREADY_UNLOADING_WINDOW);else if(this.isWindowUsed()){this._isUnloadingWindow=true;try{this.$raiseEvent("unloadWindow");if(this._windowUsages>0){this.$logError(this.WINDOW_STILL_USED_AFTER_UNLOAD,[this._windowUsages]);this._windowUsages=0}this._raiseDetachWindow()}finally{this._isUnloadingWindow=false}}},setWindow:function(a){if(a!==Aria.$window){this._unloadWindow();
Aria.$window=a}},isWindowUsed:function(){return this._windowUsages>0}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/Beans.js
//MCylagYg2Y
Aria.beanDefinitions({$package:"aria.utils.Beans",$description:"",$namespaces:{json:"aria.core.JsonTypes",environmentBase:"aria.core.environment.EnvironmentBaseCfgBeans"},$beans:{options:{$type:"json:Object",$description:"Configuration bean used by the interpreter of Date.js",$properties:{referenceDate:{$type:"json:Date",$description:"Reference date from which value can be calculated."},inputPattern:{$type:"environmentBase:inputFormatTypes",$description:"Date pattern used to match user input to convert it in a Javascript valid date."}}}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/Callback.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.Callback",$dependencies:["aria.utils.Type"],$statics:{INVALID_CALLBACK:"The callback function is invalid or missing or it was called after $dispose."},$constructor:function(a){a=this.$normCallback(a);var b=aria.utils.Type.isFunction(a.fn);this._scope=b?a.scope:this;this._function=b?a.fn:this._warnDisposed;this._args=a.args;this._resIndex=a.resIndex;this._apply=a.apply},$destructor:function(){this._scope=this;this._function=this._warnDisposed;this._args=
null},$prototype:{call:function(a){var b=this._apply===true&&aria.utils.Type.isArray(this._args)?this._args:[this._args],c=this._resIndex===undefined?0:this._resIndex;c>-1&&b.splice(c,0,a);return this._function.apply(this._scope,b)},_warnDisposed:function(){this.$logError(this.INVALID_CALLBACK)},apply:function(a){this.call(a)}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/ClassList.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.ClassList",$constructor:function(a){this.setClassName=function(b){a.className=b};this.getClassName=function(){return a.className};this._dispose=function(){this._dispose=a=null}},$destructor:function(){this._dispose&&this._dispose()},$prototype:{add:function(a){this.contains(a)||this.setClassName(this.getClassName()+" "+a)},remove:function(a){for(var b=this.getClassName().split(" "),c=0,d=b.length;c<d;c++)if(b[c]==a){b.splice(c,1);break}this.setClassName(b.join(" "))},
toggle:function(a){this.contains(a)?this.remove(a):this.add(a)},contains:function(a){for(var b=this.getClassName().split(" "),c=0,d=b.length;c<d;c++)if(b[c]==a)return true;return false},setClassName:function(){},getClassName:function(){}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/Data.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.Data",$extends:"aria.core.JsObject",$singleton:true,$dependencies:["aria.utils.Type","aria.utils.Path","aria.utils.Json"],$constructor:function(){this.utilsType=aria.utils.Type;this.utilsArray=aria.utils.Array},$statics:{NBROF_PREFIX:"nbrOf",META_PREFIX:Aria.FRAMEWORK_PREFIX+"meta::",TYPE_FATAL:"F",TYPE_ERROR:"E",TYPE_WARNING:"W",TYPE_INFO:"I",TYPE_NOTYPE:"N",TYPE_CRITICAL_WARNING:"C",TYPE_CONFIRMATION:"O",DATA_NO_PARAMETER_TO_CONTAINER:"Parameter %1 is not defined in container:",
RESOLVE_FAIL:"Resolve for path %1 failed, root element does not contain this path",INVALID_VALIDATOR_GROUP_PARAMETER:"The validation group parameter must be an array.",DATA_UTIL_ERROR_MESSAGE_WRONG_TYPE:"listOfMessages property has to be an array."},$prototype:{_getMeta:function(b,a,c){a=this.META_PREFIX+a;var d=b[a];if(!d){d={};if(c===false)b[a]=d;else aria.utils.Json.setValue(b,a,d)}return d},getValidator:function(b,a){var c=this._getMeta(b,a);if(!c)return null;return aria.utils.Json.getValue(c,
"validator")},getFrameworkMessage:function(b,a){var c=this._getMeta(b,a);if(this.utilsType.isArray(c.formatErrorMessages))return c.formatErrorMessages;return null},setValidatorProperties:function(b,a,c){if(c)b.eventToValidate=c;if(this.utilsType.isArray(a)&&a.length){c=0;for(var d;d=a[c];c++)b.groups.push(d)}else this.utilsType.isString(a)&&a!=null&&this.$logError(this.INVALID_VALIDATOR_GROUP_PARAMETER)},setValidator:function(b,a,c,d,e){this.setValidatorProperties(c,d,e);if((this.utilsType.isObject(b)||
this.utilsType.isArray(b))&&a in b){b=this._getMeta(b,a);aria.utils.Json.setValue(b,"validator",c)}else this.$logError(this.DATA_NO_PARAMETER_TO_CONTAINER,[a],b)},unsetValidator:function(b,a){this.setValidator(b,a)},createMessage:function(b,a,c,d,e){var g=this.TYPE_ERROR;b={errorMessage:b,type:c||g,localizedMessage:a||b,code:d||null};if(e)b.subMessages=e;return b},addMessage:function(b,a,c,d,e){var g=aria.utils.Json;e=e!==false;if(this.utilsType.isObject(a)){this._updateCounters(b,a);if(a.listOfMessages)this.utilsType.isArray(a.listOfMessages)||
this.$logError(this.DATA_UTIL_ERROR_MESSAGE_WRONG_TYPE);else a.listOfMessages=[];e&&a.listOfMessages.push(b);if(b.subMessages){e=0;for(var h;h=b.subMessages[e];e++)this.addMessage(h,a,null,null,false)}}if(c&&d){a=this._getMeta(c,d);c=g.copy(a.errorMessages);if(c==null)c=[b.localizedMessage];else c.push(b.localizedMessage);g.setValue(a,"errorMessages",c);g.setValue(a,"error",true)}},_updateCounters:function(b,a){var c=this.NBROF_PREFIX+b.type;if(a[c])a[c]++;else a[c]=1},_processMessagesArray:function(b,
a,c,d){for(var e,g=0;g<b.length;g++){e=b[g];this._updateCounters(e,a);e.metaDataRef=d;e.type==this.TYPE_ERROR&&c.push(e.localizedMessage);e.subMessages&&this._processMessagesArray(e.subMessages,a,c,d)}},checkGroup:function(b,a){if(a)if(this.utilsType.isString(a)&&a!=null)this.$logError(this.INVALID_VALIDATOR_GROUP_PARAMETER);else{if(this.utilsType.isArray(a)&&a.length)for(var c=0,d;d=a[c];c++)if(this.utilsArray.contains(b,d))return true}else return true;return false},checkEventToValidate:function(b,
a){return!a||b===a},validateValue:function(b,a,c,d,e){var g=this.getValidator(b,a),h=aria.utils.Json,j=this.getFrameworkMessage(b,a),k=j&&j.length,i=this._getMeta(b,a),l=false;if(g&&g.groups)l=(l=this.checkGroup(g.groups,d))&&this.checkEventToValidate(g.eventToValidate,e);var f;if(k)f=[this.createMessage(j[0])];else if(l)f=g.validate(b[a],d,e);if(f){c||(c={});b=[];this._processMessagesArray(f,c,b,i);c.listOfMessages=c.listOfMessages?c.listOfMessages.concat(f):f;if(!k){h.setValue(i,"errorMessages",
b);h.setValue(i,"error",b.length>0)}}else{h.setValue(i,"errorMessages",[]);h.setValue(i,"error",false)}return f},validateModel:function(b,a,c){if(this.utilsType.isObject(b))for(var d in b)b.hasOwnProperty(d)&&this.__subValidateModel(b,d,a,c);else if(this.utilsType.isArray(b)){d=0;for(var e=b.length;d<e;d++)this.__subValidateModel(b,d,a,c)}},__subValidateModel:function(b,a,c,d){if(!aria.utils.Json.isMetadata(a)){b[this.META_PREFIX+a]&&this.validateValue(b,a,c,d);this.validateModel(b[a],c,d)}},processMessages:function(b,
a,c,d){var e=aria.utils.Path,g=aria.utils.Json,h,j,k;if(c==null)c={};if(b==null)return c;for(var i=0,l=b.length;i<l;i++){var f=b[i];this._updateCounters(f,c);if(f.type==this.TYPE_ERROR){if(f.fieldRef&&!f.metaDataRef)try{h=e.parse(f.fieldRef);j=h.pop();k=e.resolve(h,a);if(this.utilsType.isContainer(k))f.metaDataRef=this._getMeta(k,j);else throw null;}catch(n){this.$logError(this.RESOLVE_FAIL,[f.fieldRef],a)}if(f.metaDataRef){var m=g.copy(f.metaDataRef.errorMessages);if(m==null)m=[f.localizedMessage];
else m.push(f.localizedMessage);g.setValue(f.metaDataRef,"errorMessages",m);g.setValue(f.metaDataRef,"error",true)}}f.subMessages&&this.processMessages(f.subMessages,a,c,false)}if(d!==false){a=c.listOfMessages;c.listOfMessages=a&&a.length>0?a.concat(b):b}return c}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/Date.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.Date",$singleton:true,$dependencies:["aria.utils.String","aria.utils.Type","aria.utils.environment.Date","aria.utils.Array"],$resources:{dateRes:"aria.resources.DateRes",res:"aria.utils.UtilsRes"},$constructor:function(){this._cutYear=((new Date).getFullYear()+10)%100;this._environment=aria.utils.environment.Date;var a=this.dateRes,b=aria.utils.String,c=this.res;this.firstDayOfWeek=this._environment.getFirstDayOfWeek();var d=this._interpret_monthTexts=
["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"];this.formatPatterns={d:function(e,g){return b.pad(e.getDate(),g,"0",true)},M:function(e,g){switch(g){case 1:case 2:return b.pad(e.getMonth()+1,g,"0",true);case 3:return a.month[e.getMonth()].substring(0,g);default:return a.month[e.getMonth()]}},I:function(e){return d[e.getMonth()]},y:function(e,g){switch(g){case 1:case 2:return e.getFullYear().toString().slice(2);default:return b.pad(e.getFullYear(),g,"0",true)}},G:function(){return aria.utils.Date.NOT_SUPPORTED_MESSAGE},
E:function(e,g){switch(g){case 1:case 2:case 3:return a.day[e.getDay()].substring(0,g);default:return a.day[e.getDay()]}},h:function(e,g){var f=e.getHours();if(f===0)f=12;else if(f>=13)f-=12;if(f<10&&g===2)f="0"+f;return f},H:function(e,g){var f=e.getHours();if(f<10&&g===2)f="0"+f;return f},a:function(e){return e.getHours()<12?c.timeFormatLabels.am:c.timeFormatLabels.pm},m:function(e,g){var f=e.getMinutes();if(f<10&&g===2)f="0"+f;return f},s:function(e,g){var f=e.getSeconds();if(f<10&&g===2)f="0"+
f;return f}};this._formatCache={};this._interpret_isValid=/^[\d\W]*([a-z]{3})?[\d\W]*$/i;this._interpret_specialCase1=/^\d{1,2}$/;this._interpret_specialCase2=/^[+\-]\d{1,3}$/;this._interpret_specialCase3=/^(\d{1,2}[a-z]{3}\d{0,4})\/([+\-]\d{1,3})$/i;this._allowedSeparator="(?:\\s+|[^dMyI]{1})";this._yearOrMonthOrDay_format="(y{2}|y{4}|M{1,2}|d{1,2})";this._yearOrIATAMonthOrDay_format="(y{2}|y{4}|I|[a-z|A-Z]{3}|d{1,2})";this._yearOrMonth_format="(y{2}|y{4}|M{1,2})";this._yearOrIATAMonth_format="(y{2}|y{4}|I|[a-z|A-Z]{3})";
this._dayOrMonth_format="(d{1,2}|M{1,2})";this._dayOrIATAMonth_format="(d{1,2}|I|[a-z|A-Z]{3})";this._fullDatePattern=RegExp("^"+this._yearOrMonthOrDay_format+this._allowedSeparator+this._yearOrMonthOrDay_format+this._allowedSeparator+this._yearOrMonthOrDay_format+"$");this._dayAndMonthDatePattern=RegExp("^"+this._dayOrMonth_format+this._allowedSeparator+this._dayOrMonth_format+"$");this._dayAndIATAMonthDatePattern=RegExp("^"+this._dayOrIATAMonth_format+this._allowedSeparator+this._dayOrIATAMonth_format+
"$");this._yearAndMonthDatePattern=RegExp("^"+this._yearOrMonth_format+this._allowedSeparator+this._yearOrMonth_format+"$");this._yearAndIATAMonthDatePattern=RegExp("^"+this._yearOrIATAMonth_format+this._allowedSeparator+this._yearOrIATAMonth_format+"$");this._fullIATADatePattern=RegExp("^"+this._yearOrIATAMonthOrDay_format+this._allowedSeparator+this._yearOrIATAMonthOrDay_format+this._allowedSeparator+this._yearOrIATAMonthOrDay_format+"$");this._allDateInputPatterns=[this._fullDatePattern,this._fullIATADatePattern,
this._dayAndMonthDatePattern,this._dayAndIATAMonthDatePattern,this._yearAndMonthDatePattern,this._yearAndIATAMonthDatePattern];this._interpret_littleDate=/^\d\W\d$/;this._interpret_isYear=/yyyy/g;this._interpret_isYearOn2Digit=/yy/g;this._interpret_isAnymonth=/MMM|I|MM/g;this._interpret_isMonth=/([a-z]{3})/i;this._interpret_isDay=/dd/g;this._interpret_digitOnly=/^\d+$/;this._separators=/[^\w]/;this._interpret_time_ampm=/am|pm|a\.m\.|p\.m\.|a|p|\sp\sm/g;this._interpret_time_isValid=/^\d/;this._interpret_time_remove_unwantedCharacters=
/[^\\h;m,.\-:\/\d]+/gi;this._interpret_time_remove_separatorCharacters=/[\\h;m,.\-:\/\s]/;this._formatToUpperCase=false},$destructor:function(){this._formatCache=null},$statics:{PATTERN_ERROR_MESSAGE:"##PATTERN_ERROR##",FORMAT_ERROR_MESSAGE:"##FORMAT_ERROR##",NOT_SUPPORTED_MESSAGE:"##NOT_SUPPORTED##",FORMATTER_STATEMENT_NOT_FOUND:"Following pattern %1 is not defined for this formatter: %2",FORMATTER_UNFINISHED_LITTERAL:"Unfinished litteral in this formatter: %1",INVALID_FORMAT_TYPE:"Application config format can only be a string or a function",
INVALID_INPUT_PATTERN_TYPE:"Defined pattern : %1 inputPattern can only be a string, a function or an array of strings and/or functions",INVALID_INPUT_PATTERN_DUPLICATE:"Invalid pattern in inputPattern property definition: %1 year, month or day is duplicated",INVALID_FIRST_DAY_OF_WEEK:"Invalid first day of week. Received: %1 while allowed values are: 0, 1, 6.",SUNDAY:0,MONDAY:1,SATURDAY:6,MS_IN_A_DAY:864E5},$prototype:{interpretTime:function(a){var b;var c=b=0,d=0,e=0,g=false,f=0;if(!a)return null;
if(!this._isValidTime(a))return null;if(this._isPM(a))e=12;if(this._isAM(a))g=true;a=this._removeAMPM(a);a=this._removeUnwantedCharacters(a);if(!this._isValidTime(a))return null;b=this._calculateHours(a);if(b===null)return null;for(f=0;f<b[1];f++)a=this._removeHMS(a);b=parseFloat(b);if(b<12&&e)b+=e;if(b===12&&g)b=0;if(b===24)b=0;a=this._removeSeparator(a);if(!this._isValidTime(a))return b=this._returnTime(b,c,d);c=this._calculateMS(a);for(f=0;f<c[1];f++)a=this._removeHMS(a);c=parseFloat(c);a=this._removeSeparator(a);
if(!this._isValidTime(a))return b=this._returnTime(b,c,d);d=parseFloat(this._calculateMS(a));return b=this._returnTime(b,c,d)},_isValidTime:function(a){return this._interpret_time_isValid.test(a)?true:false},_isPM:function(a){a=a.toLowerCase();a=a.match(this._interpret_time_ampm);return a!==null&&a[0].indexOf("p")!==-1?true:false},_isAM:function(a){a=a.toLowerCase();a=a.match(this._interpret_time_ampm);return a!==null&&a[0].indexOf("a")!==-1?true:false},_removeAMPM:function(a){var b=a.toLowerCase();
b=a.match(this._interpret_time_ampm);return a=a.replace(b,"")},_removeUnwantedCharacters:function(a){var b=a.match(this._interpret_time_remove_unwantedCharacters);if(b!==null)for(var c=0;c<b.length;c++)if(a.indexOf(b[c])!==-1)a=a.replace(b[c],"");return a=aria.utils.String.trim(a)},_removeHMS:function(a){var b=a.match(this._interpret_time_isValid);return a=a.replace(b,"")},_removeSeparator:function(a){var b=a.match(this._interpret_time_remove_separatorCharacters);return a=a.replace(b,"")},_calculateHours:function(a){var b=
[],c=a.charAt(0),d=a.charAt(1);if(c==="2"&&d==="4"){b[0]=0;b[1]=2;return b}if(d.match(this._interpret_digitOnly)&&(c==="2"&&d<"4"||c<"2")){b[0]=c+d;b[1]=2;return b}else if(d.match(this._interpret_digitOnly)&&a.length>3)return null;else{b[0]=c;b[1]=1}return b[0].match(this._interpret_digitOnly)?b:null},_calculateMS:function(a){var b=[],c=a.charAt(0);a=a.charAt(1);if(a.match(this._interpret_digitOnly)&&c<6){b[0]=c+a;b[1]=2;return b}else{b[0]=c;b[1]=1}return b[0].match(this._interpret_digitOnly)?b:null},
_returnTime:function(a,b,c){var d=new Date;d.setHours(a,b,c);return d},interpret:function(a,b){var c;if(b)c=b.inputPattern;if(c)if(c=this._interpretAgainstPattern(a,b.inputPattern))return c;var d,e;e=aria.utils.Type.isDate(b)?{referenceDate:b}:b||{};if(!a)return null;c=aria.utils.String.trim(a);d=c.length;if(!this._interpret_isValid.test(c))return null;if(this._interpret_specialCase1.test(c))return this.interpretWithDate(c);if(this._interpret_specialCase2.test(c))return this.interpretWithRefDate(c,
e.referenceDate);if(this._interpret_specialCase3.test(c))return this.interpretFullDateRef(c);if(d<3)return null;if(d==3){if(this._interpret_isMonth.test(c))return this.interpretMonth(c);if(this._interpret_littleDate.test(c))c="0"+c;else return null}d="isDateBeforeMonth"in e?e.isDateBeforeMonth:this._environment.getDateFormats().dateBeforeMonth;return e.isMonthYear?this.interpretMonthAndYear(c,e.yearBeforeMonth):this.interpretDateAndMonth(c,d)},_interpretAgainstPattern:function(a,b){if(aria.utils.Type.isFunction(b)||
aria.utils.Type.isString(b))b=[b];else if(!aria.utils.Type.isArray(b)){this.$logError(this.INVALID_INPUT_PATTERN_TYPE,b);return null}for(var c=aria.utils.String.trim(a),d,e,g,f=0;f<b.length;f++)if(aria.utils.Type.isFunction(b[f])){d=b[f](c);if(aria.utils.Type.isDate(d))return d}else if(aria.utils.Type.isString(b[f])){if(this._containDuplicates(b[f])){this.$logError(this.INVALID_INPUT_PATTERN_DUPLICATE,b[f]);break}for(var h=0;h<this._allDateInputPatterns.length;h++){e=this._allDateInputPatterns[h];
if(g=e.exec(b[f])){e=this._generateIndexes(e,g);g=this._userInputFormatGenerator(g);if(g.test(c))d=this._interpretDateWithAnySeparator(g,c,e.yearIndex,e.monthIndex,e.dayIndex);if(aria.utils.Type.isDate(d))return d}}}else this.$logError(this.INVALID_INPUT_PATTERN_TYPE,b);return null},_containDuplicates:function(a){var b,c,d;if(a.match(this._interpret_isYear))b=a.match(this._interpret_isYear).length;else if(a.match(this._interpret_isYearOn2Digit))b=a.match(this._interpret_isYearOn2Digit).length;if(a.match(this._interpret_isAnyMonth))c=
a.match(this._interpret_isAnyMonth).length;if(a.match(this._interpret_isDay))d=a.match(this._interpret_isDay).length;if(b>1||c>1||d>1)return true;return false},interpretWithDate:function(a){a=parseInt(a,10);var b;if(!a)return null;b=new Date;b.setDate(a);if(b.getDate()!==a)return null;return b},interpretWithRefDate:function(a,b){var c=parseInt(a,10),d;if(Math.abs(c)>365)return null;d=b!=null?new Date(b.getTime()):new Date;d.setDate(d.getDate()+c);return d},interpretFullDateRef:function(a){var b=this._interpret_specialCase3.exec(a);
a=b[1];b=parseInt(b[2],10);if(Math.abs(b)>365)return null;(a=this.interpretDateAndMonth(a))&&a.setDate(a.getDate()+b);return a},_generateIndexes:function(a,b){var c={},d=null,e=null,g=null,f=aria.utils.Array;d=f.indexOf(b,"yyyy");if(d===-1)d=f.indexOf(b,"yy");g=f.indexOf(b,"dd");if(g===-1)g=f.indexOf(b,"d");if(a===this._fullDatePattern||a===this._yearAndMonthDatePattern||a===this._dayAndMonthDatePattern){e=f.indexOf(b,"MM");if(e===-1)e=f.indexOf(b,"M")}else if(a===this._fullIATADatePattern||a===this._yearAndIATAMonthDatePattern||
a===this._dayAndIATAMonthDatePattern){e=f.indexOf(b,"MMM");if(e===-1)e=f.indexOf(b,"I")}if(d!==-1)c.yearIndex=d;if(e!==-1)c.monthIndex=e;if(g!==-1)c.dayIndex=g;return c},_userInputFormatGenerator:function(a){var b=null,c=aria.utils.Array.indexOf(a,"MMM");if(c===-1)c=aria.utils.Array.indexOf(a,"I");switch(c){case -1:if(a.length===4)b=RegExp("^(\\d{"+a[1].length+"})"+this._allowedSeparator+"(\\d{"+a[2].length+"})"+this._allowedSeparator+"(\\d{"+a[3].length+"})$");else if(a.length===3)b=RegExp("^(\\d{"+
a[1].length+"})"+this._allowedSeparator+"(\\d{"+a[2].length+"})$");break;case 1:if(a.length===4)b=RegExp("^([a-zA-Z]{3})"+this._allowedSeparator+"(\\d{"+a[2].length+"})"+this._allowedSeparator+"(\\d{"+a[3].length+"})$");else if(a.length===3)b=RegExp("^([a-zA-Z]{3})"+this._allowedSeparator+"(\\d{"+a[2].length+"})$");break;case 2:if(a.length===4)b=RegExp("^(\\d{"+a[1].length+"})"+this._allowedSeparator+"([a-zA-Z]{3})"+this._allowedSeparator+"(\\d{"+a[3].length+"})$");else if(a.length===3)b=RegExp("^(\\d{"+
a[1].length+"})"+this._allowedSeparator+"([a-zA-Z]{3})$");break;case 3:b=RegExp("^(\\d{"+a[1].length+"})"+this._allowedSeparator+"(\\d{"+a[2].length+"})"+this._allowedSeparator+"([a-zA-Z]{3})$")}return b},_interpretDateWithAnySeparator:function(a,b,c,d,e){a=a.exec(b);var g=null;g=new Date;c=c?a[c]:g.getFullYear();e=e?a[e]:1;if(b.match(this._interpret_isMonth))b=aria.utils.Array.indexOf(this._interpret_monthTexts,a[d].toUpperCase());else{b=a[d];b-=1}e=parseInt(e,10);b=parseInt(b,10);c=parseInt(c,10);
if(c<100)c+=c>this._cutYear?1900:2E3;return g=new Date(c,b,e)},interpretMonth:function(a){var b=aria.utils.Array,c=a.toUpperCase();if(b.contains(this._interpret_monthTexts,c)){a=new Date;b=b.indexOf(this._interpret_monthTexts,c);if(a.getMonth()!=b){a.setDate(1);a.setMonth(b)}return a}return null},interpretDateAndMonth:function(a,b){var c=this._parseDateString(a),d,e,g,f;f=c.length;if(f!=2&&f!=3)return null;if(f==2)if(this._interpret_isMonth.test(c[1])){d=c[0];e=c[1]}else if(b)if(this._interpret_isMonth.test(c[0])){d=
"1";e=c[0];g=c[1]}else{d=c[0];e=c[1]}else{e=c[0];if(c[1].length>2){d=c[1].slice(0,2);g=c[1].slice(2)}else d=c[1]}if(f==3){if(this._interpret_isMonth.test(c[1])){d=c[0];e=c[1]}else if(b){d=c[0];e=c[1]}else{d=c[1];e=c[0]}g=c[2]}return this._checkParsedDate(d,e,g)},interpretMonthAndYear:function(a,b){var c=this._parseDateString(a),d,e,g,f;g=c.length;if(g!=2&&g!=3)return null;if(g==2){if(this._interpret_isMonth.test(c[0])){e=c[0];f=c[1]}else if(b){this._interpret_isMonth.test(c[1]);e=c[1];f=c[0]}else{e=
c[0];f=c[1]}d=1}if(g==3)if(this._interpret_isMonth.test(c[1])){d=c[0];e=c[1];f=c[2]}else if(b)if(this._interpret_isMonth.test(c[2])){d=c[0];e=c[2];f=c[1]}else{d=1;e=c[2];f=c[0]+c[1]}else{d=1;e=c[0];f=c[1]+c[2]}return this._checkParsedDate(d,e,f,true)},_parseDateString:function(a){a=this._interpret_digitOnly.test(a)?a.slice(0,2)+"/"+a.slice(2,4)+"/"+a.slice(4):a.replace(this._interpret_isMonth,"/$1/");a=a.split(/\W+/);for(var b=0,c=a.length;b<c;b++)a[b]||a.splice(b,1);return a},_checkParsedDate:function(a,
b,c){var d;a=this._interpret_digitOnly.test(a)?parseInt(a,10):null;if(this._interpret_digitOnly.test(b))b=parseInt(b,10)-1;else{b=b.toUpperCase();b=aria.utils.Array.indexOf(this._interpret_monthTexts,b);b=b!==-1?b:null;aria.utils.Type.isNumber(b)||(b=null)}if(c){c=this._interpret_digitOnly.test(c)?parseInt(c,10):null;if(c<100)c+=c>this._cutYear?1900:2E3}else{d=new Date;c=d.getFullYear();var e=(new Date(d.getFullYear(),d.getMonth(),d.getDate())).getTime();d=new Date(d.getFullYear(),b,a);if(d.getTime()<
e)c+=1}d=new Date(c,b,a);if(aria.utils.Type.isDate(d))if(!(d.getDate()!=a||d.getMonth()!=b||d.getFullYear()!=c))return d;return null},format:function(a,b,c){if(typeof b==="function")b=b();else typeof b!=="string"&&this.$logError(this.INVALID_FORMAT_TYPE);b=this._getFormatFunction(b);this.$assert(118,aria.utils.Type.isFunction(b));if(c)a=new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds());return b(a)},_getFormatFunction:function(a){var b=
a,c,d,e,g=[],f=false,h=0,j=[];if(this._formatCache[a])return this._formatCache[a];for(;b.length>0;){d=c;c=b.slice(0,1);b=b.slice(1);if(d!==c){this._pushIfExists(j,d,h,a);h=0}if(c==="'")if(e){if(d==="'")f||g.push("'");e=false}else{if(d==="'"){g.push("'");f=true}e=true}else{f=false;if(e)g.push(c);else if(this._separators.test(c))g.push(c);else{if(g.length){j.push(g.join(""));g=[]}if(c===d)h++;else h=1}}}e&&this.$logError(this.FORMATTER_UNFINISHED_LITTERAL,a);this._pushIfExists(j,c,h,a);g.length&&j.push(g.join(""));
var m=this._formatToUpperCase;this._formatToUpperCase=false;b=function(n){for(var k,i=[],l=0,o=j.length;l<o;l++){k=j[l];aria.utils.Type.isObject(k)?i.push(k.patternFn(n,k.occurency)):i.push(k)}i=i.join("");if(m)i=i.toUpperCase();return i};return this._formatCache[a]=b},_pushIfExists:function(a,b,c,d){var e,g=aria.utils.Type;if(c){if(b=="U")return this._formatToUpperCase=true;e=this.formatPatterns[b];if(g.isFunction(e))a.push({patternFn:e,occurency:c});else{this.$logError(this.FORMATTER_STATEMENT_NOT_FOUND,
[b,d]);a.push(aria.utils.Date.PATTERN_ERROR_MESSAGE)}}},isSameDay:function(a,b){if(!a||!b)return false;var c=this._getFormatFunction("ddMMyyyy");return c(a)===c(b)},getStartOfWeek:function(a,b){if(b==null)b=this._environment.getFirstDayOfWeek();var c=new Date(a),d=a.getDay()-b;if(d<0)d+=7;c.setDate(c.getDate()-d);return c},dayDifference:function(a,b){var c=Date.UTC(a.getFullYear(),a.getMonth(),a.getDate());c=(Date.UTC(b.getFullYear(),b.getMonth(),b.getDate())-c)/864E5;this.$assert(949,c==Math.round(c));
return c},removeTime:function(a){if(a==null)return null;return a.getHours()!==0||a.getMinutes()!==0||a.getSeconds()!==0||a.getMilliseconds()!==0?new Date(a.getFullYear(),a.getMonth(),a.getDate()):a},dayOfWeekNbrSinceStartOfYear:function(a){var b=Date.UTC(a.getFullYear(),0,1);a=(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate())-b)/864E5;this.$assert(981,a==Math.round(a));return 1+Math.floor(a/7)},getWeekNumber:function(a,b){if(aria.utils.Type.isDate(a)){if(b==null)b=this._environment.getFirstDayOfWeek();
var c,d=new Date(a.getTime());switch(b){case this.MONDAY:c=d.getDate()+4-(d.getDay()||7);break;case this.SUNDAY:c=d.getDate()+6-d.getDay();break;case this.SATURDAY:c=d.getDate()+6-(d.getDay()+1)%7;break;default:this.$logError(this.INVALID_FIRST_DAY_OF_WEEK,[b]);return}d.setDate(c);c=d.getTime();d=new Date(d.getFullYear(),0,1);return Math.floor(Math.round((c-d)/this.MS_IN_A_DAY)/7)+1}}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/Delegate.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.Delegate",$dependencies:["aria.utils.Event","aria.DomEvent","aria.utils.IdManager","aria.utils.Callback","aria.utils.Array","aria.core.Browser","aria.utils.AriaWindow"],$singleton:true,$events:{elementFocused:{description:"notifies that an element defined inside Aria Templates has received focus",properties:{focusedElement:"{HTMLElement} element that has received the focus"}},elementBlurred:{description:"notifies that an element defined inside Aria Templates has lost focus",
properties:{blurredElement:"{HTMLElement} element that has lost the focus"}}},$constructor:function(){this.depth=-1;this.delegatedOnBody=["click","focus","blur","focusin","focusout","mousedown","mouseup","mousemove","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove","mousewheel"];this.delegatedOnWindow=["keydown","keyup","keypress"];this.delegatedGestures={tap:"aria.touch.Tap",swipe:"aria.touch.Swipe"};this.rootListener=null;this.supportedEvents={dblclick:true,mouseleave:true,
mouseenter:true,copy:true,change:true,paste:true,cut:true,submit:true,error:true,mousewheel:true};aria.core.Browser.isIE||this.delegatedOnBody.push("change","paste","cut");this._delegatedMap={};var a,c;a=0;for(c=this.delegatedOnBody.length;a<c;a++){var d=this.delegatedOnBody[a];this._delegatedMap[d]=true}a=0;for(c=this.delegatedOnWindow.length;a<c;a++){d=this.delegatedOnWindow[a];this._delegatedMap[d]=true}for(var b in this.delegatedGestures)if(this.delegatedGestures.hasOwnProperty(b))this._delegatedMap[b]=
true;for(b in this._delegatedMap)if(this._delegatedMap.hasOwnProperty(b))this.supportedEvents[b]=true;this.delegateExpando="atdelegate";this.__delegateMapping=null;this.__idMgr=new aria.utils.IdManager("d");this._focusTracking=this._changed=this.__stackCache=null;aria.utils.AriaWindow.$on({unloadWindow:this.reset,scope:this})},$destructor:function(){this.reset();this.__idMgr.$dispose();this.__idMgr=null;aria.utils.AriaWindow.$unregisterListeners(this);this._delegatedMap=this.delegatedOnWindow=this.delegatedOnBody=
null},$statics:{DELEGATE_UTIL_CALLBACK_FAIL:"Error catch in callback for event %1"},$prototype:{reset:function(){this.cleanCache();var a=this.__delegateMapping;if(a){for(var c in a)a.hasOwnProperty(c)&&this.remove(c);a=Aria.$window.document.body;c=aria.utils.Event;var d,b;d=0;for(b=this.delegatedOnBody.length;d<b;d++)c.removeListener(a,this.delegatedOnBody[d],{fn:this.delegate});d=0;for(b=this.delegatedOnWindow.length;d<b;d++)c.removeListener(this.rootListener,this.delegatedOnWindow[d],{fn:this.delegate});
this._focusTracking=this.rootListener=this.__delegateMapping=null;aria.utils.AriaWindow.detachWindow()}},isDelegated:function(a){return this._delegatedMap[a]},add:function(a){this.cleanCache();if(!this.__delegateMapping){aria.utils.AriaWindow.attachWindow();var c=Aria.$window.document.body;this.rootListener=aria.core.Browser.isIE?c:Aria.$window;this.__delegateMapping={};var d=aria.utils.Event,b,e;b=0;for(e=this.delegatedOnBody.length;b<e;b++)d.addListener(c,this.delegatedOnBody[b],{fn:this.delegate,
scope:this});b=0;for(e=this.delegatedOnWindow.length;b<e;b++)d.addListener(this.rootListener,this.delegatedOnWindow[b],{fn:this.delegate,scope:this})}for(c=this.__idMgr.getId();this._changed&&this._changed[c];){this._changed[c]=false;c=this.__idMgr.getId()}this.__delegateMapping[c]=new aria.utils.Callback(a);return c},getMarkup:function(a){return this.delegateExpando+"='"+a+"'"},addExpando:function(a,c){a.setAttribute(this.delegateExpando,c)},getFallbackMarkup:function(a,c,d){this.getFallbackMarkup=
aria.core.Browser.isIE?function(b,e,f){return" on"+b+"=\"aria.utils.Delegate.directCall(event, '"+e+"', "+(f?"true":"false")+', this)"'}:function(b,e,f){var g="directCall";if("mouseleave"==b||"mouseenter"==b){b="mouseleave"==b?"mouseout":"mouseover";g="mouseMovement"}return" on"+b+'="aria.utils.Delegate.'+g+"(event, '"+e+"', "+(f?"true":"false")+', this)"'};return this.getFallbackMarkup(a,c,d)},__wrapEvent:function(a,c){return a.$DomEvent?a:c?new aria.templates.DomEventWrapper(a):new aria.DomEvent(a)},
directCall:function(a,c,d){this.$assert(286,this.__delegateMapping);a=this.__wrapEvent(a,d);var b;if(c=this.__delegateMapping[c])b=c.call(a);a.$dispose();return b},mouseMovement:function(a,c,d,b){if(aria.utils.Dom.isAncestor(a.relatedTarget,b)===false){var e=this.__wrapEvent(a,d);e.type=a.type=="mouseover"?"mouseenter":"mouseleave";e.setTarget(b);return this.directCall(e,c,d,b)}},remove:function(a){this.cleanCache();if(this._changed)this._changed[a]=true;if(this.__delegateMapping){this.__delegateMapping[a].$dispose();
delete this.__delegateMapping[a];this.__idMgr.releaseId(a)}},delegate:function(a){if(!this.__stackCache)this.__stackCache={};var c=this.depth,d=[],b,e,f,g=Aria.$window.document.body;a=this.__wrapEvent(a);f=a.target;for(var h=false;c&&f&&f!=g;){if(f.attributes)if(e=f.attributes[this.delegateExpando]){h=true;e=e.nodeValue;if(b=this.__stackCache[e]){d=d.concat(b);break}else d.push({expandoValue:e,target:f})}f=f.parentNode;c--}c=false;if(this._changed)c=true;else this._changed={};b=0;for(g=d.length;b<
g;b++){f=d[b];e=f.expandoValue;f=f.target;if(b===0)this.__stackCache[e]=d;if(!this._changed[e]){e=this.__delegateMapping[e];a.delegateTarget=f;var i;if(e)try{i=e.call(a)}catch(j){this.$logError(this.DELEGATE_UTIL_CALLBACK_FAIL,[a.type],{event:a})}if(i===false||a.hasStopPropagation)break}}if(!c)this._changed=null;if(i!==false&&!a.hasStopPropagation&&aria.templates)(d=aria.templates.NavigationManager)&&d.handleGlobalNavigation(a);if(a.type=="focus")(this._focusTracking=a.target)&&h&&this.$raiseEvent({name:"elementFocused",
focusedElement:this._focusTracking});else if(a.type=="blur"){h&&this.$raiseEvent({name:"elementBlurred",blurredElement:this._focusTracking});this._focusTracking=null}a.$dispose()},cleanCache:function(){if(this.__stackCache){for(var a in this.__stackCache)if(this.__stackCache.hasOwnProperty(a)){for(var c=this.__stackCache[a],d=0,b=c.length;d<b;d++){c.target=null;c.expandoValue=null;delete c.target;delete c.expandoValue}delete this.__stackCache[d]}this.__stackCache=null}},getFocus:function(){return this._focusTracking}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/Dom.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.Dom",$dependencies:["aria.core.JsonValidator","aria.core.Browser"],$singleton:true,$statics:{VIEWPORT:"__$viewport",DIV_NOT_FOUND:"Missing div '%1' in DOM.",INSERT_ADJACENT_INVALID_POSITION:"Invalid position %1. Expected one of: beforeBegin, afterBegin, beforeEnd or afterEnd."},$prototype:{getElementById:function(a){this.getElementById=aria.core.Browser.isIE6||aria.core.Browser.isIE7?function(b){var d=Aria.$window.document,c=d.getElementById(b);if(c)if(c.getAttribute("id")==
b)return c;else for(var e in d.all)if(e.id==b)return e;return null}:function(b){return Aria.$window.document.getElementById(b)};return this.getElementById(a)},getNextSiblingElement:function(a,b){if(b==null)b=1;for(;a&&b>0;)(a=a.nextSibling)&&a.nodeType==1&&b--;return a},getPreviousSiblingElement:function(a,b){if(b==null)b=1;for(;a&&b>0;)(a=a.previousSibling)&&a.nodeType==1&&b--;return a},getDomElementChild:function(a,b,d){if(!a)return null;a=a.childNodes;for(var c=0,e=a.length,f=d?e-1:0;d?f>=0:f<
e;d?f--:f++)if(a[f].nodeType==1){if(c==b)return a[f];c++}return null},getDomElementsChildByTagName:function(a,b){if(!a)return null;return a.getElementsByTagName(b)},getDomElementChildReverse:function(a,b){return this.getDomElementChild(a,b,true)},refreshDomElt:function(a){this.refreshDomElt=aria.core.Browser.isIE7?function(b){try{var d=b.parentNode.style,c=b.style;d.cssText+="";d.zoom=1;c.cssText+="foo:foo;";c.cssText=c.cssText.replace("foo:foo;","")}catch(e){}}:aria.core.Browser.isIE8?function(){for(var b=
0,d=Aria.rootTemplates.length;b<d;b++){var c=Aria.rootTemplates[b];if(c._cfg&&c._cfg.tplDiv){c=c._cfg.tplDiv;c.className=c.className}}}:function(){};this.refreshDomElt(a)},replaceHTML:function(a,b){var d=a;if(typeof d=="string")d=this.getElementById(d);if(d){try{d.innerHTML="";d.innerHTML=b}catch(c){var e=this._createTableElement(d.tagName,b,d.ownerDocument);if(e){this.replaceDomElement(d,e);this.copyAttributes(d,e);d=e}else throw c;}aria.utils&&aria.utils.Delegate&&aria.utils.Delegate.delegate(aria.DomEvent.getFakeEvent("contentchange",
d))}else{this.$logError(this.DIV_NOT_FOUND,[a]);return null}return d},_createTableElement:function(a,b,d){a=a.toUpperCase();d=d.createElement("DIV");if(a=="TBODY"||a=="THEAD"||a=="TFOOT"){d.innerHTML=["<TABLE><",a,">",b,"</",a,"></TABLE>"].join("");b=d.children[0].children[0]}else if(a=="TR"){d.innerHTML=["<TABLE><TBODY><",a,">",b,"</",a,"></TBODY></TABLE>"].join("");b=d.children[0].children[0].children[0]}else{d.innerHTML=["<",a,">",b,"</",a,">"].join("");b=d.children[0]}this.$assert(194,!b||b.tagName.toUpperCase()==
a);return b},replaceDomElement:function(a,b){var d=a.parentNode;d.insertBefore(b,a);d.removeChild(a)},insertAdjacentHTML:function(a,b,d){this.insertAdjacentHTML=Aria.$window.document.body.insertAdjacentHTML?function(c,e,f){try{c.insertAdjacentHTML(e,f)}catch(h){var i;if(e=="afterBegin"||e=="beforeEnd")i=c;else if(e=="beforeBegin"||e=="afterEnd")i=c.parentNode;else{this.$logError(this.INSERT_ADJACENT_INVALID_POSITION,[e]);return}if(f=this._createTableElement(i.tagName,f,c.ownerDocument)){var j=f.lastChild;
if(j){this.insertAdjacentElement(c,e,j);for(c=f.lastChild;c;){i.insertBefore(c,j);j=c;c=f.lastChild}}}else throw h;}}:function(c,e,f){var h=c.ownerDocument.createRange();e=="beforeBegin"||e=="afterEnd"?h.selectNode(c):h.selectNodeContents(c);f=h.createContextualFragment(f);this.insertAdjacentElement(c,e,f);h.detach()};this.insertAdjacentHTML(a,b,d)},insertAdjacentElement:function(a,b,d){this.insertAdjacentElement=Aria.$window.document.body.insertAdjacentElement?function(c,e,f){c.insertAdjacentElement(e,
f)}:function(c,e,f){if(e=="beforeBegin")c.parentNode.insertBefore(f,c);else if(e=="afterBegin")c.insertBefore(f,c.firstChild);else if(e=="beforeEnd")c.appendChild(f);else e=="afterEnd"?c.parentNode.insertBefore(f,c.nextSibling):this.$logError(this.INSERT_ADJACENT_INVALID_POSITION,[e])};this.insertAdjacentElement(a,b,d)},copyAttributes:function(a,b){this.copyAttributes=Aria.$window.document.body.mergeAttributes?function(d,c){c.mergeAttributes(d,false)}:function(d,c){for(var e=d.attributes,f=0,h=e.length;f<
h;f++){var i=e[f];c.setAttribute(i.name,i.value)}};this.copyAttributes(a,b)},_getViewportSize:function(){var a=Aria.$window.document.documentElement;return{width:a.clientWidth,height:a.clientHeight}},getViewportSize:function(){return this._getViewportSize()},_getDocumentScroll:function(a){var b=a&&a.ownerDocument?a.ownerDocument:Aria.$window.document,d=0,c=0,e=this.getDocumentScrollElement(b);if(a!=null){for(;a!=null;){if(a.scrollLeft)d+=a.scrollLeft;if(a.scrollTop)c+=a.scrollTop;a=a.parentNode}d-=
e.scrollLeft;c-=e.scrollTop}else{d=e.scrollLeft;c=e.scrollTop}if(e!=b.body){d+=b.body.scrollLeft;c+=b.body.scrollTop}return{scrollLeft:d,scrollTop:c}},getFullPageSize:function(){var a=this.getDocumentScrollElement();a={width:a.scrollWidth,height:a.scrollHeight};var b=this._getViewportSize();return{width:Math.max(a.width,b.width),height:Math.max(a.height,b.height)}},calculatePosition:function(a,b){if(a){var d=a.ownerDocument,c=aria.core.Browser,e=0,f=0,h=0,i=0,j=true,k=0,g=a,l;if(g.getBoundingClientRect&&
!b){k=c.isIE6||c.isIE7?2:0;try{l=g.getBoundingClientRect();j=false;e=l.left-k;f=l.top-k}catch(m){f=e=0}}else for(;g&&g.parentNode;){l=aria.utils.Dom.getStyle(g,"position");if(b&&k>0&&l=="absolute")break;e+=g.offsetLeft;f+=g.offsetTop;g=g.offsetParent;k++}k=0;for(g=a;g&&g.parentNode&&g.parentNode!=d.body&&g.parentNode.tagName;){if(!c.isOpera&&g.nodeName!="HTML")if(g.scrollTop!==0&&g.scrollTop){h=g.scrollTop;if(j)f-=g.scrollTop}else{if(g.scrollLeft!==0&&g.scrollLeft){i=g.scrollLeft;if(j)e-=g.scrollLeft}}else if(c.isOpera)if(g.scrollTop!==
0&&g.scrollTop!=g.offsetTop){if(j)f-=g.scrollTop;h=g.scrollTop}else if(g.scrollLeft!==0&&g.scrollLeft!=g.offsetLeft){i=g.scrollLeft;if(j)e-=g.scrollLeft}l=aria.utils.Dom.getStyle(g,"position");if(k>0&&l=="absolute")break;k++;g=g.parentNode}return{top:f,left:e,scrollTop:h,scrollLeft:i}}},getClientGeometry:function(a){var b=this.calculatePosition(a);return{x:b.left+a.clientLeft,y:b.top+a.clientTop,width:a.clientWidth,height:a.clientHeight}},getGeometry:function(a){if(!a)return null;var b=a.ownerDocument,
d,c;d=aria.core.Browser;var e=this.calculatePosition(a);if(a===b.body){b=this.getFullPageSize();return{x:0,y:0,width:b.width,height:b.height}}else{if(d.isChrome||d.isSafari){c=a.getBoundingClientRect();d=c.width;c=c.height}else{d=a.offsetWidth;c=a.offsetHeight}e={x:e.left,y:e.top,width:d,height:c};a=a.parentNode;d=b.documentElement;for(b=b.body;a&&a!=d&&a!=b;){c=this.getClientGeometry(a);var f=this.getStyle(a,"overflowX"),h=this.getStyle(a,"overflowY");if(f=="auto"||f=="scroll"){f=c.x-e.x;if(f>0){e.x+=
f;e.width-=f;if(e.width<0)return null}f=e.x+e.width-c.x-c.width;if(f>0){e.width-=f;if(e.width<0)return null}}if(h=="auto"||h=="scroll"){f=c.y-e.y;if(f>0){e.y+=f;e.height-=f;if(e.height<0)return null}f=e.y+e.height-c.y-c.height;if(f>0){e.height-=f;if(e.height<0)return null}}a=a.parentNode}return e}},getStyle:function(a,b){var d=aria.core.Browser;if(d.isIE){var c=d.isIE8||d.isIE7||d.isIE6;this.getStyle=function(e,f){if(c&&f=="opacity"){var h=100;try{h=e.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(i){try{h=
e.filters("alpha").opacity}catch(j){}}return(h/100).toString(10)}else if(f=="float")f="styleFloat";h=e.currentStyle?e.currentStyle[f]:null;return e.style[f]||h}}else this.getStyle=function(e,f){var h=Aria.$window,i=null;if(f=="float")f="cssFloat";if(h=h.getComputedStyle(e,""))i=h[f];return e.style!==null?e.style[f]||i:i};return this.getStyle(a,b)},centerInViewport:function(a,b){var d=this._getViewportSize(),c=this._getDocumentScroll(b);return{left:parseInt(c.scrollLeft+(d.width-a.width)/2,10),top:parseInt(c.scrollTop+
(d.height-a.height)/2,10)}},isInViewport:function(a,b,d){var c=this._getViewportSize();d=this._getDocumentScroll(d);return a.top<d.scrollTop||a.left<d.scrollLeft||a.top+b.height>d.scrollTop+c.height||a.left+b.width>d.scrollLeft+c.width?false:true},isInside:function(a,b){a.width=a.width||0;a.height=a.height||0;if(b==this.VIEWPORT)return this.isInViewport({left:a.x,top:a.y},{width:a.width,height:a.height});b.width=b.width||0;b.height=b.height||0;if(a.x<b.x||a.y<b.y||a.x+a.width>b.x+b.width||a.y+a.height>
b.y+b.height)return false;return true},fitInViewport:function(a,b,d){var c=this._getViewportSize(),e=this._getDocumentScroll(d);d=aria.utils.Math.normalize(a.top,e.scrollTop,Math.max(0,e.scrollTop+c.height-b.height));a=aria.utils.Math.normalize(a.left,e.scrollLeft,Math.max(0,e.scrollLeft+c.width-b.width));return{top:d,left:a}},fitInside:function(a,b){a.width=a.width||0;a.height=a.height||0;if(b==this.VIEWPORT)return this.fitInViewport({left:a.x,top:a.y},{width:a.width,height:a.height});b.width=b.width||
0;b.height=b.height||0;var d=a.x<b.x?b.x:a.x,c=a.y<b.y?b.y:a.y;if(a.x+a.width>b.x+b.width)d=b.x+b.width-a.width;if(a.y+a.height>b.y+b.height)c=b.y+b.height-a.height;return{top:c,left:d}},isAncestor:function(a,b){if(!(a&&a.ownerDocument))return false;for(var d=a.ownerDocument.body,c=a;c&&c!=d;){if(c==b)return true;c=c.parentNode}return c==b},isInDom:function(a){return a?this.isAncestor(a,a.ownerDocument.body):false},removeElement:function(a){a.parentNode&&a.parentNode.removeChild(a)},scrollIntoView:function(a,
b){for(var d=a.ownerDocument,c=a,e=c.getBoundingClientRect(),f=false,h=this.getDocumentScrollElement(d);a;)if(a=a==d.body?h:a.parentNode)if(!a.clientHeight?0:a.scrollHeight>a.clientHeight){var i;i=a==h?{left:0,top:0}:a.getBoundingClientRect();var j=e.left-(i.left+(parseInt(a.style.borderLeftWidth,10)|0)),k=e.right-(i.left+a.clientWidth+(parseInt(a.style.borderLeftWidth,10)|0)),g=e.top-(i.top+(parseInt(a.style.borderTopWidth,10)|0));i=e.bottom-(i.top+a.clientHeight+(parseInt(a.style.borderTopWidth,
10)|0));if(j<0)a.scrollLeft+=j;else if(k>0)a.scrollLeft+=k;if(b===true&&!f)a.scrollTop+=g;else if(b===false&&!f)a.scrollTop+=i;else if(g<0)a.scrollTop+=g;else if(i>0)a.scrollTop+=i;if(a==h)a=null;else{j=c.getBoundingClientRect();if(j.top!=e.top)f=true;e=j}}else if(a==h)a=null},getDocumentScrollElement:function(a){if(a==null)a=Aria.$window.document;return!(aria.core.Browser.isSafari||aria.core.Browser.isChrome)&&a.compatMode=="CSS1Compat"?a.documentElement:a.body},setOpacity:function(a,b){var d=aria.core.Browser;
this.setOpacity=d.isIE8||d.isIE7||d.isIE6?this._setOpacityLegacyIE:this._setOpacityW3C;this.setOpacity(a,b)},_setOpacityLegacyIE:function(a,b){a.style.cssText+=";filter:alpha(opacity="+b*100+");"},_setOpacityW3C:function(a,b){a.style.opacity=b}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/DomBeans.js
//MCylagYg2Y
Aria.beanDefinitions({$package:"aria.utils.DomBeans",$description:"",$namespaces:{json:"aria.core.JsonTypes"},$beans:{Size:{$type:"json:Object",$description:"Object description for the size of bi-dimensional object",$properties:{width:{$type:"json:Float",$description:"Width value of the Size object",$default:0},height:{$type:"json:Float",$description:"Height value of the Size object",$default:0}}},Position:{$type:"json:Object",$description:"Object description for the position of bi-dimensional object",
$properties:{top:{$type:"json:Float",$description:"Top value of the Position object",$default:0},left:{$type:"json:Float",$description:"Left value of the Position object",$default:0},scrollTop:{$type:"json:Float",$description:"The total scrolling offset (Top)",$default:0},scrollLeft:{$type:"json:Float",$description:"The total scrolling offset (Left)",$default:0}}},Geometry:{$type:"json:Object",$description:"Object description for the geometry of bi-dimensional object",$properties:{y:{$type:"json:Float",
$description:"y coordinate of the top-left corner",$default:0},x:{$type:"json:Float",$description:"x coordinate of the top-left corner",$default:0},width:{$type:"json:Float",$description:"Width of an element",$default:0},height:{$type:"json:Float",$description:"Height of an element",$default:0}}}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/DomOverlay.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.DomOverlay",$dependencies:["aria.utils.overlay.LoadingOverlay","aria.utils.Type","aria.utils.Event","aria.utils.AriaWindow"],$singleton:true,$statics:{UNIQUE_ID_GENERATOR:12},$constructor:function(){this.overlays=null;this._nbOverlays=0;this.bodyOverlay=null;aria.utils.AriaWindow.$on({unloadWindow:this._reset,scope:this})},$destructor:function(){this._reset();aria.utils.AriaWindow.$unregisterListeners(this)},$prototype:{_init:function(){if(this.overlays==
null){this.overlays={};aria.utils.AriaWindow.attachWindow();aria.utils.Event.addListener(Aria.$window,"scroll",{fn:this.__onScroll,scope:this},true)}},_reset:function(){if(this.overlays!=null){aria.utils.Event.removeListener(Aria.$window,"scroll",{fn:this.__onScroll});aria.utils.AriaWindow.detachWindow();this.overlays=null;this._nbOverlays=0}},create:function(b,a){var c=this.__getOverlay(b);if(c){c.overlay.refresh();return c.id}var d=++this.UNIQUE_ID_GENERATOR;c=new aria.utils.overlay.LoadingOverlay(b,
d,a);this._init();if(b!==Aria.$window.document.body){this.overlays[d]=c;this._nbOverlays++;b.__overlay=d}else this.bodyOverlay=c;return d},detachFrom:function(b){var a=this.__getOverlay(b);if(a){a.overlay.$dispose();a=a.id;if(b===Aria.$window.document.body)this.bodyOverlay=null;else{delete this.overlays[a];this._nbOverlays--}this._nbOverlays===0&&this.bodyOverlay==null&&this._reset();return a}},__getOverlay:function(b){if(b===Aria.$window.document.body)return!this.bodyOverlay?null:{overlay:this.bodyOverlay};
else{var a=b.__overlay;if(!(!a||this.overlays==null)){var c=this.overlays[a];if(c)return{overlay:c,id:a};else b.__overlay=null}}},__onScroll:function(){this.$assert(184,this.overlays!=null);var b=this.overlays,a;for(a in b)b.hasOwnProperty(a)&&b[a].refreshPosition()},disposeOverlays:function(b){if(!(!aria.utils.Type.isArray(b)||this.overlays==null)){for(var a=0,c=b.length;a<c;a+=1){var d=this.overlays[b[a]];if(d){d.$dispose();delete this.overlays[b[a]];this._nbOverlays--}}this._nbOverlays===0&&this.bodyOverlay==
null&&this._reset()}}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/dragdrop/Drag.js
//MCylagYg2Y
(function(){var f=0;Aria.classDefinition({$classpath:"aria.utils.dragdrop.Drag",$dependencies:["aria.utils.Dom","aria.utils.Mouse","aria.utils.Type"],$implements:["aria.utils.dragdrop.IDrag"],$statics:{INVALID_ATTRIBUTE:"Invalid attribute '%1' in '%2'"},$constructor:function(a,b){b=b||{};this.element=this.id=null;var c=aria.utils.Type;if(c.isString(a))this.id=a;else if(c.isHTMLElement(a)){this.element=a;this.id=this.element.id}else{this.$logError(this.INVALID_ATTRIBUTE,["id","constructor"]);this.end=
this.move=this.start=Aria.empty}this.params=b;this.handle=b.handle;this.cursor=b.cursor;this._boundary=this.posY=this.posX=this.proxy=this.originalCursor=null;this._horizontal=b.axis&&b.axis=="x";this._vertical=b.axis&&b.axis=="y";this._baseMovableOffset=this._movableGeometry=this._movableInitialGeometry=this._elementInitialPosition=null;this.listenerId=aria.utils.Mouse.listen("drag",this);(c=this.getDraggable(true))&&c.setAttribute(aria.utils.Mouse.DRAGGABLE_ATTRIBUTE,this.listenerId);this.getMovable(false)},
$destructor:function(){var a=this.getDraggable();if(a){a&&a.removeAttribute(aria.utils.Mouse.DRAGGABLE_ATTRIBUTE);a.style.cursor=this.originalCursor}this.proxy&&this.proxy.overlay&&this.proxy.$dispose();this.proxy=this.cursor=this.handle=this.element=null;aria.utils.Mouse.stopListen("drag",this)},$prototype:{getDraggable:function(a){var b=this.handle,c=this.cursor,d;if(b){var e=aria.utils.Type;if(e.isString(b))b=aria.utils.Dom.getElementById(b);if(e.isHTMLElement(b))d=this.handle=b;else a===true&&
this.$logError(this.INVALID_ATTRIBUTE,["handle","params"])}else d=this.getElement(a);if(d){if(c){this.originalCursor=d.style.cursor;d.style.cursor=c}return d}},getElement:function(a){var b=this.element;if(!b){b=aria.utils.Dom.getElementById(this.id);if(!b){a===true&&this.$logError(this.INVALID_ATTRIBUTE,["id","constructor"]);return}this.element=b}return b},_setElementStyle:function(a){var b=a.style;this._elementInitialPosition=a={left:a.offsetLeft,top:a.offsetTop};b.position="absolute";b.left=a.left+
"px";b.top=a.top+"px"},getMovable:function(a){var b=this.proxy;if(b)return b.overlay;if(b=this.params.proxy){var c="aria.utils.overlay."+b.type;Aria.load({classes:[c],oncomplete:a===false?null:{fn:this._createProxy,scope:this,args:{classpath:c,cfg:b.cfg}},onerror:{fn:function(){this.$logError(this.INVALID_ATTRIBUTE,["proxy","params"])},scope:this,override:true}});if(a!==false&&!this.proxy)this.proxy={};return this.proxy?this.proxy.overlay:this.proxy}else return this.getElement()},_createProxy:function(a){var b=
Aria.getClassRef(a.classpath);try{var c=a.cfg||{};c.id=this.id||"proxy_"+f;f++;this.proxy=new b(this.getElement(),c)}catch(d){this.$logError(this.INVALID_ATTRIBUTE,["proxy","params"])}},start:function(a){this.posX=a.x;this.posY=a.y;var b=this.getElement(true);b.onselectstart=Aria.returnFalse;this._setElementStyle(b);this._setBoundary();if(a=this.getMovable()){a.onselectstart=Aria.returnFalse;if(a.offsetTop<b.offsetTop)a.style.top=b.offsetTop+"px";this._movableInitialGeometry=aria.utils.Dom.getGeometry(a);
this._movableGeometry=aria.utils.Json.copy(this._movableInitialGeometry);b=a.offsetParent;this._movableGeometry.y+=b.scrollTop>0?b.scrollTop:0;this._baseMovableOffset={left:this._movableGeometry.x-a.offsetLeft,top:this._movableGeometry.y-a.offsetTop};this.$raiseEvent("dragstart")}},move:function(a){var b=this.getMovable(),c=aria.utils.Dom;if(b&&b.style){var d=this._vertical?0:a.clientX-this.posX,e=this._horizontal?0:a.clientY-this.posY;a=aria.utils.Json.copy(this._movableGeometry);a.x+=d;a.y+=e;c=
this._boundary?c.fitInside(a,this._boundary):{top:a.y,left:a.x};b.style.top=c.top-this._baseMovableOffset.top+"px";b.style.left=c.left-this._baseMovableOffset.left+"px";a.y=c.top;a.x=c.left;this.posY+=a.y-this._movableGeometry.y;this.posX+=a.x-this._movableGeometry.x;this._movableGeometry=a;this.$raiseEvent("move")}},end:function(){var a=this.getElement(),b=a.offsetParent;a.onselectstart=Aria.returnTrue;if(this.proxy&&this.proxy.overlay){this._movableInitialGeometry.y+=b.scrollTop>0?b.scrollTop:0;
a.style.top=this._elementInitialPosition.top+this._movableGeometry.y-this._movableInitialGeometry.y+"px";a.style.left=this._elementInitialPosition.left+this._movableGeometry.x-this._movableInitialGeometry.x+"px";this.proxy.$dispose();this.proxy=null}this.$raiseEvent("dragend")},_setBoundary:function(){var a=this.params.constrainTo,b=aria.utils.Dom;if(!a||a===b.VIEWPORT)this._boundary=a;else{if(aria.utils.Type.isString(a))a=b.getElementById(a);if(a)this._boundary=aria.utils.Dom.getGeometry(a);else{this._boundary=
null;this.$logError(this.INVALID_ATTRIBUTE,["constrainTo","params"])}}}}})})();
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/dragdrop/DragDropBean.js
//MCylagYg2Y
Aria.beanDefinitions({$package:"aria.utils.dragdrop.DragDropBean",$description:"Definition of parameters used by Drag/Drop classes",$namespaces:{json:"aria.core.JsonTypes"},$beans:{DragCfg:{$type:"json:Object",$description:"Parameters for aria.utils.dragdrop.Drag constructor",$properties:{handle:{$type:"json:MultiTypes",$description:"This is the element from which drag can be initialized by the user.",$contentTypes:[{$type:"json:String",$description:"Element ID"},{$type:"json:ObjectRef",$description:"HTML Element"}]},
cursor:{$type:"json:String",$description:"css cursor property to be added on the draggable element or the handle. If not specified no value will be added."},proxy:{$type:"ProxyCfg",$description:""},constrainTo:{$type:"json:MultiTypes",$description:"Element to which the movement should be constrained.",$contentTypes:[{$type:"json:String",$description:"Can be only aria.utils.Dom.VIEWPORT"},{$type:"json:String",$description:"Id of the element"},{$type:"json:ObjectRef",$description:"HTML Element"}]},
axis:{$type:"json:Enum",$description:"Direction of the movement",$enumValues:["x","y"]}}},ProxyCfg:{$type:"json:Object",$description:"Configuration object for the element that moves with the mouse.",$properties:{type:{$type:"json:Enum",$description:"Type of proxy. It corresponds to the class aria.utils.overlay.[type]",$enumValues:["Overlay","CloneOverlay"]},cfg:{$type:"json:ObjectRef",$description:"Argument passed to the constructor of the overlay described by type."}}}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/dragdrop/IDrag.js
//MCylagYg2Y
Aria.interfaceDefinition({$classpath:"aria.utils.dragdrop.IDrag",$interface:{start:{$type:"Function"},move:{$type:"Function"},end:{$type:"Function"}},$events:{dragstart:"Occurs when the user starts drag operation",move:"Occurs when the user moves the draggable element",dragend:"Occurs when the user ends drag operation",beforeresize:"Occurs when the user starts resize operation",resize:"occurs when the user resizing element",resizeend:"Occurs when the user ends resize"}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/Ellipsis.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.Ellipsis",$dependencies:["aria.utils.Function","aria.utils.FireDomEvent","aria.utils.Dom","aria.popups.Popup"],$constructor:function(a,b,d,e,g){var f=Aria.$window.document;this.textContent=a.innerHTML;this.context=g;this.ellipsisElement=a;this.ellipsesNeeded=false;if(a.childNodes.length==1&&a.childNodes[0].nodeType==3){if(!b){b=a.parentNode.offsetWidth;if(a.parentNode.lastChild.className=="xICNsortIndicator")if(a.parentNode.lastChild.offsetWidth>0)b-=a.parentNode.lastChild.offsetWidth}var c=
this._createSizerEl(a);c.innerHTML=a.innerHTML;f.body.appendChild(c);var h=c.offsetWidth;c.parentNode.removeChild(c);c.innerHTML=(e!=null?e:"")+"&nbsp;";f.body.appendChild(c);g=c.offsetWidth;c.parentNode.removeChild(c);if(h>b){this.ellipsesNeeded=true;c=f.createElement("SPAN");c.style.whiteSpace="nowrap";c.style.overflow="hidden";c.style.display="inline-block";c.style.verticalAlign="bottom";if(aria.core.Browser.isIE6)b-=4;b-=g;if(b<0)b=0;c.style.width=b+"px";if(d=="left")c.style.direction="rtl";c.innerHTML=
a.innerHTML;a.innerHTML="";b=f.createElement("SPAN");if(d=="left"){b.innerHTML=e+"&nbsp;";a.appendChild(b);a.appendChild(c)}else if(d=="right"){b.innerHTML="&nbsp;"+e;a.appendChild(c);a.appendChild(b)}}}else this.$logWarn(this.ELLIPSIS_NONTEXTUAL_ELEMENTS)},$destructor:function(){if(this._popup&&this._popup!==null){this._popup.close();this._popup=null}this.ellipsesNeeded=this.ellipsisElement=this.textContent=this.context=null;this.callbackID&&aria.core.Timer.cancelCallback(this.callbackID);this.callbackID=
null},$statics:{ELLIPSIS_NONTEXTUAL_ELEMENTS:"Non-textual elements cannot be constrained to a specific width"},$prototype:{_createSizerEl:function(a){var b=Aria.$window.document.createElement(a.tagName);b.className=a.className;b.setAttribute("style",a.getAttribute("style"));a.parentNode.appendChild(b);b.style.visibility="hidden";b.style.position="absolute";b.style.whiteSpace="nowrap";return b},_renderFullText:function(a){a.write("<span style='cursor:pointer;white-space:nowrap;background:white;font-weight:bold;'>"+
this.textContent+"</span>")},displayFullText:function(a){if(this.callbackID){aria.core.Timer.cancelCallback(this.callbackID);this.callbackID=null}if(this._popup==null&&this.ellipsesNeeded===true)this.callbackID=aria.core.Timer.addCallback({fn:this._showPopup,scope:this,delay:500,args:a})},_showPopup:function(a){var b=this.context.createSection({fn:this._renderFullText,scope:this}),d=new aria.popups.Popup;this._popup=d;d.$on({scope:this,onAfterClose:this._onAfterPopupClose});d.open({section:b,domReference:this.ellipsisElement,
preferredPositions:[{reference:"top left",popup:"top left"}],closeOnMouseOut:true,offset:{top:a.top,left:a.left}});d.domElement.firstChild.onclick=aria.utils.Function.bind(this._popup_onmouseclick,this);this.callbackID=null},_popup_onmouseclick:function(){aria.utils.FireDomEvent.fireEvent("click",this.ellipsisElement,{})},_hideFullText:function(a){this.callbackID&&aria.core.Timer.cancelCallback(this.callbackID);if(this._popup!=null)aria.utils.Dom.isAncestor(a,this._popup.domElement)||this._popup&&
this._popup.closeOnMouseOut();this.callbackID=null},_onAfterPopupClose:function(){this._popup.$dispose();this._popup=null}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/Event.js
//MCylagYg2Y
(function(){var h=[],i=null;Aria.classDefinition({$classpath:"aria.utils.Event",$dependencies:["aria.utils.Type","aria.utils.Callback","aria.core.Browser"],$singleton:true,$statics:{INVALID_TARGET:"Unable to add '%2' event on element %1"},$constructor:function(){this.typesUtil=aria.utils.Type;this.UA=aria.core.Browser;this.isIE=this.UA.ie;var a=this;this._unload=function(c){a._unloadEvent(c)}},$destructor:function(){this.reset();this._unload=null},$prototype:{reset:function(){if(i){i=null;this._simpleRemove(Aria.$window,
"unload",this._unload)}for(var a=h.length-1;a>=0;a--){var c=h[a];c&&this.removeListener(c[0],c[1],c[2],a)}},_checkUnloadListeners:function(){if(i==null){i=[];this._simpleAdd(Aria.$window,"unload",this._unload)}},_unloadEvent:function(a){for(var c=i,d=0,b=c.length;d<b;++d){var e=c[d];if(e){e[5].call(this.getEvent(a));c[d]=null}}},addListener:function(a,c,d,b,e,f){if(!d)return false;if("mousewheel"==c)if(this.UA.isIE){if(a==Aria.$window)a=a.document}else this.UA.isOpera||this.UA.isSafari||this.UA.isWebkit||
(c="DOMMouseScroll");this.typesUtil.isFunction(d)||(f=b);f=(c=="focusin"||c=="focusout")&&!this.UA.ie?true:f;return this._addListener(a,this._getType(c),d,b,e,f)},_simpleAdd:function(){if(Aria.$window)if(Aria.$window.addEventListener)return function(a,c,d,b){a.addEventListener(c,d,b)};else if(Aria.$window.attachEvent)return function(a,c,d){a.attachEvent("on"+c,d)};return function(){}}(),_addListener:function(a,c,d,b,e,f){if(this._isValidCollection(a)){for(var j=true,g=0,l=a.length;g<l;++g)j=this._addListener(a[g],
c,d,b,e,f)&&j;return j}if(this.typesUtil.isString(a)){b=this.getElement(a);if(!b){this.$logError(this.INVALID_TARGET,[a,c]);a=b;return false}a=b}if(!this.typesUtil.isHTMLElement(a))return false;if(!d.$Callback){if(!d.fn||!this.typesUtil.isFunction(d.fn))return false;if(!d.scope)d.scope=a}var k=d;d.$Callback||(k=new aria.utils.Callback(d));var m=function(p){return k.call(aria.utils.Event.getEvent(p,a))},o=function(){k={call:Aria.empty};a=n=o=m=null},n=[a,c,d,m,f,k,o];if("unload"==c&&e!==this){this._checkUnloadListeners();
i[i.length]=n;return true}h[h.length]=n;try{this._simpleAdd(a,c,m,f)}catch(q){this.$logError(this.INVALID_TARGET,[a,c],q);this.removeListener(a,c,d);return false}return true},_isValidCollection:function(a){try{return a&&typeof a!=="string"&&a.length&&!a.tagName&&!a.alert&&typeof a[0]!=="undefined"}catch(c){return false}},getEvent:function(a){a=a||Aria.$window.event;if(!a)for(var c=Aria.$window.Event,d=this.getEvent.caller;d;){if((a=d.arguments[0])&&c==a.constructor)break;d=d.caller}return a},_getType:function(a){return this._specialTypes[a]||
a},_specialTypes:{focusin:aria.core.Browser.isIE?"focusin":"focus",focusout:aria.core.Browser.isIE?"focusout":"blur"},removeListener:function(a,c,d,b){var e;if("mousewheel"==c)if(this.UA.isIE){if(a==Aria.$window)a=a.document}else this.UA.isOpera||this.UA.isSafari||(c="DOMMouseScroll");c=this._getType(c);if(this.typesUtil.isString(a)){a=this.getElement(a);if(!a)return false}else if(this._isValidCollection(a)){b=true;for(e=a.length-1;e>-1;e--)b=this.removeListener(a[e],c,d)&&b;return b}if(!d||!(d.call||
d.fn))return this.purgeElement(a,false,c);if("unload"==c){if(i)for(e=i.length-1;e>-1;e--){b=i[e];var f;f=b&&aria.utils.Type.isObject(b[2])&&!b[2].$Callback?"fn"in d&&b[2].fn==d.fn:b[2]==d;if(b&&b[0]==a&&b[1]==c&&f){b[2]!=b[5]&&b[5].$dispose();b[6]();delete b[6];i.splice(e,1);return true}}return false}e=null;if("undefined"===typeof b)b=this._getCacheIndex(h,a,c,d);if(b>=0)e=h[b];if(!a||!e)return false;d=e[4]===true?true:false;try{this._simpleRemove(a,c,e[3],d)}catch(j){return false}delete h[b][3];
h[b][2]!=h[b][5]&&h[b][5].$dispose();h[b][6]();delete h[b][6];h.splice(b,1);return true},getElement:function(a){return typeof a==="string"?Aria.$window.document.getElementById(a):a},_getCacheIndex:function(a,c,d,b){for(var e,f=0,j=a.length;f<j;f+=1){var g=a[f];e=g&&this.typesUtil.isObject(g[2])&&!g[2].$Callback?"fn"in b&&g[2].fn==b.fn:g[2]==b;if(g&&e&&g[0]==c&&g[1]==d)return f}return-1},_simpleRemove:function(){if(Aria.$window)if(Aria.$window.removeEventListener)return function(a,c,d,b){a.removeEventListener(c,
d,b)};else if(Aria.$window.detachEvent)return function(a,c,d){a.detachEvent("on"+c,d)};return function(){}}(),purgeElement:function(a,c,d){a=this.typesUtil.isString(a)?this.getElement(a):a;var b=this.getListeners(a,d),e;if(b)for(e=b.length-1;e>-1;e--){var f=b[e];this.removeListener(a,f.type,f.fn)}if(c&&a&&a.childNodes){e=0;for(b=a.childNodes.length;e<b;++e)this.purgeElement(a.childNodes[e],c,d)}},getListeners:function(a,c){var d=[],b;if(c)if(c==="unload")b=[i];else{c=this._getType(c);b=[h]}else b=
[h,i];for(var e=this.typesUtil.isString(a)?this.getElement(a):a,f=0;f<b.length;f+=1){var j=b[f];if(j)for(var g=0,l=j.length;g<l;++g){var k=j[g];if(k&&k[0]===e&&(!c||c===k[1]))d.push({type:k[1],fn:k[2],index:g})}}return d.length?d:null}}})})();
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/filters/DisplayXmlResponse.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.filters.DisplayXmlResponse",$extends:"aria.core.IOFilter",$constructor:function(){this.$IOFilter.constructor.call(this)},$prototype:{onResponse:function(a){var b=a.res;if(b.responseXML)if(b=this._xml2str(b.responseXML)){this.$logInfo("Request to the following URL produced the following result: "+a.url);this.$logInfo(b)}},_xml2str:function(a){try{return(new Aria.$global.XMLSerializer).serializeToString(a)}catch(b){try{return a.xml}catch(c){this.$logWarn("Xmlserializer not supported")}}return false}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/FireDomEvent.js
//MCylagYg2Y
(function(){var d,i,v={click:1,dblclick:1,mouseover:1,mouseout:1,mousedown:1,mouseup:1,mousemove:1,touchstart:1,touchend:1,touchmove:1,dommousescroll:1,mousewheel:1},x={keydown:1,keyup:1,keypress:1},w={focus:1,blur:1,change:1},u=function(h,c,a){a=a||{};if(v[c]){var f=a.bubbles,g=a.cancelable,k=a.view,l=a.detail,m=a.screenX,n=a.screenY,o=a.clientX,p=a.clientY,j=a.ctrlKey,e=a.altKey,q=a.shiftKey,r=a.metaKey,s=a.button;a=a.relatedTarget;var t=Aria.$window.document;h||i.$logError("simulateEvent(): Invalid target.");
if(d.isString(c)){c=c.toLowerCase();v[c]||i.$logError("simulateEvent(): Event type '"+c+"' not supported.")}else i.$logError("simulateEvent(): Event type must be a string.");d.isBoolean(f)||(f=true);d.isBoolean(g)||(g=c!="mousemove");if(!d.isObject(k))k=Aria.$window;d.isNumber(l)||(l=1);d.isNumber(m)||(m=0);d.isNumber(n)||(n=0);d.isNumber(o)||(o=0);d.isNumber(p)||(p=0);d.isBoolean(j)||(j=false);d.isBoolean(e)||(e=false);d.isBoolean(q)||(q=false);d.isBoolean(r)||(r=false);d.isNumber(s)||(s=0);var b=
null;if(d.isFunction(t.createEvent)){b=t.createEvent("MouseEvents");if(b.initMouseEvent)b.initMouseEvent(c,f,g,k,l,m,n,o,p,j,e,q,r,s,a||null);else{b=t.createEvent("UIEvents");b.initEvent(c,f,g);b.view=k;b.detail=l;b.screenX=m;b.screenY=n;b.clientX=o;b.clientY=p;b.ctrlKey=j;b.altKey=e;b.metaKey=r;b.shiftKey=q;b.button=s;b.relatedTarget=a}if(a&&!b.relatedTarget)if(c=="mouseout")b.toElement=a;else if(c=="mouseover")b.fromElement=a;h.dispatchEvent(b)}else if(d.isObject(t.createEventObject)){b=t.createEventObject();
b.bubbles=f;b.cancelable=g;b.view=k;b.detail=l;b.screenX=m;b.screenY=n;b.clientX=o;b.clientY=p;b.ctrlKey=j;b.altKey=e;b.metaKey=r;b.shiftKey=q;switch(s){case 0:b.button=1;break;case 1:b.button=4;break;case 2:break;default:b.button=0}b.relatedTarget=a;if(h.checked!=null)h.checked=!h.checked;h.fireEvent("on"+c,b)}else i.$logError("simulateEvent(): No event simulation framework present.")}else if(x[c]){f=a.bubbles;g=a.cancelable;k=a.view;l=a.ctrlKey;m=a.altKey;n=a.shiftKey;o=a.metaKey;p=a.keyCode;a=
a.charCode;j=Aria.$window.document;h||i.$logError("simulateKeyEvent(): Invalid target.");if(d.isString(c)){c=c.toLowerCase();switch(c){case "textevent":c="keypress";break;case "keyup":case "keydown":case "keypress":break;default:i.$logError("simulateKeyEvent(): Event type '"+c+"' not supported.")}}else i.$logError("simulateKeyEvent(): Event type must be a string.");d.isBoolean(f)||(f=true);d.isBoolean(g)||(g=true);if(!d.isObject(k))k=Aria.$window;d.isBoolean(l)||(l=false);d.isBoolean(m)||(m=false);
d.isBoolean(n)||(n=false);d.isBoolean(o)||(o=false);d.isNumber(p)||(p=0);d.isNumber(a)||(a=0);e=null;if(d.isFunction(j.createEvent)){try{e=j.createEvent("KeyEvents");e.initKeyEvent(c,f,g,k,l,m,n,o,p,a)}catch(y){try{e=j.createEvent("Events")}catch(z){e=j.createEvent("UIEvents")}finally{e.initEvent(c,f,g);e.view=k;e.altKey=m;e.ctrlKey=l;e.shiftKey=n;e.metaKey=o;e.keyCode=p;e.charCode=a}}h.dispatchEvent(e)}else if(d.isObject(j.createEventObject)){e=j.createEventObject();e.bubbles=f;e.cancelable=g;e.view=
k;e.ctrlKey=l;e.altKey=m;e.shiftKey=n;e.metaKey=o;e.keyCode=a>0?a:p;h.fireEvent("on"+c,e)}else i.$logError("simulateKeyEvent(): No event simulation framework present.")}else if(w[c]){a=c;c=Aria.$window.document;h||i.$logError("simulateHtmlEvent(): Invalid target.");if(d.isString(a)){a=a.toLowerCase();w[a]||i.$logError("simulateHtmlEvent(): Event type '"+a+"' not supported.")}else i.$logError("simulateHtmlEvent(): Event type must be a string.");f=a==="change";g=null;if(d.isFunction(c.createEvent)){g=
c.createEvent("HTMLEvents");g.initEvent(a,f,false);h.dispatchEvent(g)}else if(d.isObject(c.createEventObject)){g=c.createEventObject();g.bubbles=f;g.cancelable=false;h.fireEvent("on"+a,g)}else i.$logError("simulateHtmlEvent(): No event simulation framework present.")}else i.$logError("simulate(): Event '"+c+"' can't be simulated.")};Aria.classDefinition({$classpath:"aria.utils.FireDomEvent",$singleton:true,$dependencies:["aria.utils.Type","aria.core.Browser"],$constructor:function(){d=aria.utils.Type;
i=this},$destructor:function(){i=d=null},$prototype:{fireEvent:function(h,c,a){u(c,h,a)},fireKeydownEventAdaptedForKeyNav:function(h,c){this.fireKeydownEventAdaptedForKeyNav=aria.core.Browser.isIE||aria.core.Browser.isSafari?function(a,f){u(a,"keydown",f)}:function(a,f){u(a,"keydown",f);u(a,"keypress",f)};this.fireKeydownEventAdaptedForKeyNav(h,c)}}})})();
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/FormatFactory.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.FormatFactory",$dependencies:["aria.utils.Type"],$constructor:function(){this.$logError("This class is deprecated. Please stop using it!");this._statements={};this._statementsRegExp=/^\$\{[^\}]*\}/;this._formatFnCache={}},$destructor:function(){this._formatFnCache=this._statements=null},$statics:{PATTERN_ERROR_MESSAGE:"##PATTERN_ERROR##",FORMAT_ERROR_MESSAGE:"##FORMAT_ERROR##",FORMATTER_STATEMENT_NOT_FOUND:"Following pattern %1 is not defined for this formatter: %2"},
$prototype:{setStatements:function(b){this._statements=b},getFormatFunction:function(b){var d=[],a="",j,g,e="",c=b;if(this._formatFnCache[b])return this._formatFnCache[b];for(;c.length>0;){if(a=c.match(this._statementsRegExp)){if(e){d.push(e);e=""}a=a[0];g=a.slice(2,a.length-1);if(j=this._statements[g])d.push(j);else{this.$logError(this.FORMATTER_STATEMENT_NOT_FOUND,[g,b]);d.push(aria.utils.FormatFactory.PATTERN_ERROR_MESSAGE)}}if(a)c=c.slice(a.length);else{e+=c.charAt(0);c=c.slice(1)}}e&&d.push(e);
a=function(k){var f,h="";try{for(var i=0,l=d.length;i<l;i++){f=d[i];h+=aria.utils.Type.isFunction(f)?f(k):f}}catch(m){h=aria.utils.FormatFactory.FORMAT_ERROR_MESSAGE}return h};return this._formatFnCache[b]=a}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/Function.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.Function",$singleton:true,$prototype:{bind:function(a,f){for(var d=[],b=2;b<arguments.length;b++)d.push(arguments[b]);return function(){for(var c=d.slice(0),e=0;e<arguments.length;e++)c.push(arguments[e]);return a.apply(f,c)}},wrapObjectFn:function(a,f,d,b){b||(b="");for(var c=0,e=d.length;c<e;c++){var g=d[c];f[b+g]=this.bind(a[g],a)}},bindCallback:function(a){a=this.$normCallback(a);return function(){a.fn.call(a.scope,arguments,a.args)}}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/FunctionWriter.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.FunctionWriter",$dependencies:["aria.utils.String"],$constructor:function(a){this.functionArguments=a;this.variables=[];this.out=[];this._varIndex=0;this._unusedTempVariables=[];this._usedTempVariables={};this._shortcuts={}},$statics:{INVALID_RELEASE_TEMP_VAR:"releaseTempVariable was called with parameter %1, but this is not the name of a currently used variable created with createTempVariable.",INVALID_RELEASE_SHORTCUT:"releaseShortcut was called with parameter %1, but there was no previous call of createShortcut which returned that value.",
REGULARNAME_REGEXP:/^[A-Za-z_][A-Za-z_0-9]*$/},$prototype:{$init:function(a){a.stringify=aria.utils.String.stringify},addVariable:function(a){this.variables.push(a)},createTempVariable:function(a){var b;b=this._unusedTempVariables;if(b.length>0)b=b.pop();else{this._varIndex++;b="v"+this._varIndex;this.addVariable(b)}this._usedTempVariables[b]=true;a&&this.out.push(b,"=",a,";");return b},releaseTempVariable:function(a){if(this._usedTempVariables.hasOwnProperty(a)){delete this._usedTempVariables[a];
this._unusedTempVariables.push(a)}else this.$logError(this.INVALID_RELEASE_TEMP_VAR,[a])},isRegularVarName:function(a){return this.REGULARNAME_REGEXP.test(a)&&!Aria.isJsReservedWord(a)},createShortcut:function(a){var b=this.isRegularVarName(a);a=b?a:this.createTempVariable(a);if(this._shortcuts[a]==null)this._shortcuts[a]=[];this._shortcuts[a].push(!b);return a},releaseShortcut:function(a){var b=this._shortcuts[a];if(b&&b.length>0)b.pop()&&this.releaseTempVariable(a);else this.$logError(this.INVALID_RELEASE_SHORTCUT,
[a])},getCode:function(){var a=this.out.join("");this.out=[a];if(this.variables.length>0)a=["var ",this.variables.join(","),";\n",a].join("");return a},write:function(){this.out.push.apply(this.out,arguments)},createFunction:function(){var a=this.functionArguments.slice();a.push(this.getCode());return Function.apply(Function,a)},getDotProperty:function(a){return this.isRegularVarName(a)?"."+a:"["+this.stringify(a)+"]"},writeEnsureObjectExists:function(a){this.out.push("if (!",a,"){",a,"={};}")}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/HashManager.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.HashManager",$singleton:true,$dependencies:["aria.core.Browser","aria.utils.Type","aria.utils.Event","aria.utils.Object","aria.utils.AriaWindow"],$statics:{INVALID_SETHASH_ARGUMENT:"Invalid argument passed to aria.utils.HashManager.setHash method.",INVALID_SETSEPARATORS_ARGUMENTS:"Invalid argument passed to aria.utils.HashManager.setSeparators method.",INVALID_SEPARATOR:"Expression %1 cannot be used as separator.",INVALID_HASHPOLLING_TRIGGER:"Enabling hash polling is allowed only in IE7.",
INVALID_HASHOBJECT_TYPE:"Invalid hash object: value corresponding to key %1 is not a string.",INVALID_HASHOBJECT_VALUE:"Invalid hash object: value '%1' corresponding to key '%2' of the hashObject contains one the non encodable separators '%3'",INVALID_HASHOBJECT_KEY:"Invalid hash object: key '%1' of the hashObject contains one the non encodable separators '%2'",IFRAME_ID:"at_hash_manager_iframe"},$constructor:function(){this._separators=[",","&"];this._separatorRegExp=this.__buildRegExpFromArray(this._separators);
this._nonEncodableSeparators=this.__getNonEncodedSeparators(this._separators);this._nonEncodableSepRegExp=this.__buildRegExpFromArray(this._nonEncodableSeparators);this._hashChangeCallbacks=null;this._currentHashString=decodeURIComponent(this.getHashString());this._enableIEpolling=this._isIE7OrLess=aria.core.Browser.isIE&&aria.core.Browser.majorVersion<8;this._typeUtil=aria.utils.Type;this.ie7PollDelay=75;this._currentIframeHashString=this._iframe=null;this._isIE7OrLess&&this._createIframe()},$destructor:function(){this._removeHashChangeInternalCallback();
this._isIE7OrLess&&this._destroyIframe()},$prototype:{getHashObject:function(a){return aria.utils.Json.copy(this._extractHashObject(this.getHashString(a)))},getHashString:function(a){a=a||Aria.$window;a=a.location.href;var b=a.indexOf("#");if(b!=-1)return a.substring(b+1);return""},setHash:function(a,b){b=b||Aria.$window;var c="";if(this._typeUtil.isObject(a))if(this._validateHashObject(a))c=this._stringifyHashObject(a);else return;else if(this._typeUtil.isString(a))c=!a?"":a;else this.$logError(this.INVALID_SETHASH_ARGUMENT);
if(this.getHashString(b)!=c)b.location.hash=c},addCallback:function(a){if(this._hashChangeCallbacks==null){this._hashChangeCallbacks=[];this._addHashChangeInternalCallback()}this._hashChangeCallbacks.push(a)},removeCallback:function(a){var b=this._hashChangeCallbacks;if(b!=null){for(var c=b.length,d=0;d<c&&b[d]!=a;)d++;if(d<c){b.splice(d,1);if(b.length===0){this._hashChangeCallbacks=null;this._removeHashChangeInternalCallback()}}}},setSeparators:function(a){var b=this.getHashObject(),c=this.__buildRegExpFromArray(["#",
"%","^","[","]","{","}","\\",'"',"<",">","="]);if(this._typeUtil.isString(a))a=[a];else if(!this._typeUtil.isArray(a))return;for(var d=0,e=a.length;d<e;d++)if(a[d].match(c)){this.$logError(this.INVALID_SEPARATOR,a[d]);return}this._separators=a;this._separatorRegExp=this.__buildRegExpFromArray(this._separators);this._nonEncodableSeparators=this.__getNonEncodedSeparators(this._separators);this._nonEncodableSepRegExp=this.__buildRegExpFromArray(this._nonEncodableSeparators);aria.utils.Object.isEmpty(b)||
this.setHash(b)},addSeparators:function(a){var b=this._separators;if(this._typeUtil.isString(a))a=[a];else if(!this._typeUtil.isArray(a))return;for(var c=0,d=a.length;c<d;c++)aria.utils.Array.contains(this._separators,a[c])||b.push(a[c]);this.setSeparators(b)},setIE7polling:function(a){a&&!this._isIE7OrLess&&this.$logWarn(this.INVALID_HASHPOLLING_TRIGGER);if((a=a&&this._isIE7OrLess)&&!this._enableIEpolling){this._enableIEpolling=a;this._hashPoll()}else this._enableIEpolling=a},_stringifyHashObject:function(a){var b=
[],c;for(c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join(this._separators[0])},_extractHashObject:function(a){var b={},c,d;a=a?a.split(this._separatorRegExp):[];for(var e=0,f=a.length;f>e;e++){d=a[e];c=decodeURIComponent(d).split("=");if(c.length==2)b[c[0]]=c[1];else if(d.indexOf("=")==d.length)b[c[0]]="";else b["param"+e]=c[0]}return b},_addHashChangeInternalCallback:function(){this._hashPoll();this._isIE7OrLess||aria.utils.Event.addListener(Aria.$window,
"hashchange",{fn:this._internalCallback,scope:this},true)},_hashPoll:function(){if(this._enableIEpolling){aria.core.Timer.addCallback({fn:this._hashPoll,scope:this,delay:this.ie7PollDelay});var a=this._iframe.contentWindow,b=this.getHashString();a=this.getHashString(a);if(a!=this._currentIframeHashString){this._currentHashString=this._currentIframeHashString=a;this.setHash(a);this._internalCallback()}else if(b!=this._currentHashString){this._addIframeHistoryEntry(b);this._internalCallback()}}},_internalCallback:function(){var a=
this._hashChangeCallbacks,b;if(a!=null){this._currentHashString=this.getHashString();for(var c=this._extractHashObject(this._currentHashString),d=0,e=a.length;e>d;d++){b=a[d];b=this.$normCallback(b);this.$callback(b,c)}}},_removeHashChangeInternalCallback:function(){this._isIE7OrLess||aria.utils.Event.removeListener(Aria.$window,"hashchange",{fn:this._internalCallback})},_validateHashObject:function(a){var b,c=this._nonEncodableSepRegExp,d;for(d in a)if(a.hasOwnProperty(d))if(c&&d.match(c)){this.$logError(this.INVALID_HASHOBJECT_KEY,
[d,this._nonEncodableSeparators.join("")]);return false}else{b=a[d];if(this._typeUtil.isString(b)){if(c&&b.match(c)){this.$logError(this.INVALID_HASHOBJECT_VALUE,[b,d,this._nonEncodableSeparators.join("")]);return false}}else{this.$logError(this.INVALID_HASHOBJECT_TYPE,d);return false}}return true},__getNonEncodedSeparators:function(a){for(var b=[],c=0,d=a.length;c<d;c++)a[c]==encodeURIComponent(a[c])&&b.push(a[c]);return b},__buildRegExpFromArray:function(a){for(var b=/([\^\$\.\*\+\?\=\!\:\|\\\/\(\)\[\]\{\}]){1,1}/g,
c=[],d=0,e=a.length;d<e;d++)c.push(a[d].replace(b,"\\$1"));return c.length===0?null:RegExp(c.join("|"))},_createIframe:function(){var a,b=Aria.$window.document;a=b.createElement("iframe");a.setAttribute("id",this.IFRAME_ID);a.style.display="none";b.body.appendChild(a);this._iframe=a;this._addIframeHistoryEntry(this._currentHashString)},_addIframeHistoryEntry:function(a){var b=this._iframe;if(b){a=a||"";if(this._currentIframeHashString!=a){b.contentWindow.document.open();b.contentWindow.document.close();
this._currentIframeHashString=a;this.setHash(a,b.contentWindow)}}},_destroyIframe:function(){Aria.$window.document.body.removeChild(this._iframe);this._iframe=null}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/History.js
//MCylagYg2Y
/*
 New BSD License <http://creativecommons.org/licenses/BSD/>
 New BSD License <http://creativecommons.org/licenses/BSD/>
 New BSD License <http://creativecommons.org/licenses/BSD/>
*/
(function(){var q=Aria.$window.Boolean,a={};(function(g,m){a.Adapter={handlers:{},_uid:1,uid:function(d){return d._uid||(d._uid=a.Adapter._uid++)},bind:function(d,f,j){var i=a.Adapter.uid(d);a.Adapter.handlers[i]=a.Adapter.handlers[i]||{};a.Adapter.handlers[i][f]=a.Adapter.handlers[i][f]||[];a.Adapter.handlers[i][f].push(j);d["on"+f]=function(k,o){return function(p){a.Adapter.trigger(k,o,p)}}(d,f)},trigger:function(d,f,j){j=j||{};d=a.Adapter.uid(d);var i,k;a.Adapter.handlers[d]=a.Adapter.handlers[d]||
{};a.Adapter.handlers[d][f]=a.Adapter.handlers[d][f]||[];i=0;for(k=a.Adapter.handlers[d][f].length;i<k;++i)a.Adapter.handlers[d][f][i].apply(this,[j])},extractEventData:function(d,f){return f&&f[d]||m},onDomLoad:function(d){var f=g.setTimeout(function(){d()},2E3);g.onload=function(){clearTimeout(f);d()}}}})(Aria.$window);(function(g){var m=g.document;a.initHtml4=function(){if(typeof a.initHtml4.initialized!=="undefined")return false;else a.initHtml4.initialized=true;a.enabled=true;a.savedHashes=[];
a.isLastHash=function(d){var f=a.getHashByIndex();return d===f};a.saveHash=function(d){if(a.isLastHash(d))return false;a.savedHashes.push(d);return true};a.getHashByIndex=function(d){var f=null;return f=typeof d==="undefined"?a.savedHashes[a.savedHashes.length-1]:d<0?a.savedHashes[a.savedHashes.length+d]:a.savedHashes[d]};a.discardedStates={};a.discardState=function(d,f,j){var i=a.getHashByState(d);a.discardedStates[i]={discardedState:d,backState:j,forwardState:f};return true};a.discardedState=function(d){d=
a.getHashByState(d);return a.discardedStates[d]||false};a.recycleState=function(d){var f=a.getHashByState(d);a.discardedState(d)&&delete a.discardedStates[f];return true};if(a.emulated.pushState){a.onHashChange=function(d){var f=a.getHashByUrl(d&&d.newURL||m.location.href);d=null;if(a.isLastHash(f)){a.busy(false);return false}a.doubleCheckComplete();a.saveHash(f);if(f&&a.isTraditionalAnchor(f)){a.Adapter.trigger(g,"anchorchange");a.busy(false);return false}d=a.extractState(a.getFullUrl(f||m.location.href,
false),true);if(a.isLastSavedState(d)){a.busy(false);return false}a.getHashByState(d);if(f=a.discardedState(d)){a.getHashByIndex(-2)===a.getHashByState(f.forwardState)?a.back(false):a.forward(false);return false}a.pushState(d.data,d.title,d.url,false);return true};a.onHashChangeCb={fn:a.onHashChange};aria.utils.HashManager.addCallback(a.onHashChangeCb);a.pushState=function(d,f,j,i){if(a.getHashByUrl(j))throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");
if(i!==false&&a.busy()){a.pushQueue({scope:a,callback:a.pushState,args:arguments,queue:i});return false}a.busy(true);var k=a.createStateObject(d,f,j),o=a.getHashByState(k),p=a.getState(false);p=a.getHashByState(p);var n=a.getHash();a.storeState(k);a.expectedStateId=k.id;a.recycleState(k);a.setTitle(k);if(o===p){a.busy(false);return false}if(o!==n&&o!==a.getShortUrl(m.location.href)){a.setHash(o,false);return false}a.saveState(k);a.Adapter.trigger(g,"statechange");a.busy(false);return true};a.replaceState=
function(d,f,j,i){if(a.getHashByUrl(j))throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(i!==false&&a.busy()){a.pushQueue({scope:a,callback:a.replaceState,args:arguments,queue:i});return false}a.busy(true);var k=a.createStateObject(d,f,j),o=a.getState(false),p=a.getStateByIndex(-2);a.discardState(o,k,p);a.pushState(k.data,k.title,k.url,false);return true}}if(a.emulated.pushState)if(a.getHash()&&!a.emulated.hashChange)a.Adapter.onDomLoad(function(){a.Adapter.trigger(g,
"hashchange")})}})(Aria.$window);(function(g,m){var d=g.document,f=g.navigator,j=g.sessionStorage||false,i=g.setTimeout,k=g.clearTimeout,o=g.setInterval,p=g.clearInterval,n,r=g.history;n=new aria.utils.json.JsonSerializer;n.stringify=n.serialize;a.init=function(){typeof a.initCore!=="undefined"&&a.initCore();typeof a.initHtml4!=="undefined"&&a.initHtml4();return true};a.initCore=function(){if(typeof a.initCore.initialized!=="undefined")return false;else a.initCore.initialized=true;a.options=a.options||
{};a.options.hashChangeInterval=a.options.hashChangeInterval||100;a.options.safariPollInterval=a.options.safariPollInterval||500;a.options.doubleCheckInterval=a.options.doubleCheckInterval||500;a.options.storeInterval=a.options.storeInterval||1E3;a.options.busyDelay=a.options.busyDelay||250;a.options.initialTitle=a.options.initialTitle||d.title;a.intervalList=[];a.clearAllIntervals=function(){var b,c=a.intervalList;if(typeof c!=="undefined"&&c!==null){for(b=0;b<c.length;b++)p(c[b]);a.intervalList=
null}};a.emulated={pushState:!q(g.history&&g.history.pushState&&g.history.replaceState&&!(/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(f.userAgent)||/AppleWebKit\/5([0-2]|3[0-2])/i.test(f.userAgent))),hashChange:q(!("onhashchange"in g||"onhashchange"in d)||aria.core.Browser.isIE&&(aria.core.Browser.isIE7||aria.core.Browser.isIE6))};a.enabled=!a.emulated.pushState;a.bugs={setHash:q(!a.emulated.pushState&&f.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(f.userAgent)),safariPoll:q(!a.emulated.pushState&&
f.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(f.userAgent)),ieDoubleCheck:q(aria.core.Browser.isIE&&aria.core.Browser.isIE7),hashEscape:q(aria.core.Browser.isIE&&aria.core.Browser.isIE6)};a.cloneObject=function(b){if(b){b=n.stringify(b);b=n.parse(b)}else b={};return b};a.getRootUrl=function(){var b=d.location.protocol+"//"+(d.location.hostname||d.location.host);if(d.location.port)b+=":"+d.location.port;b+="/";return b};a.getBaseHref=function(){var b=d.getElementsByTagName("base"),
c=null;c="";if(b.length===1){c=b[0];c=c.href.replace(/[^\/]+$/,"")}if(c=c.replace(/\/+$/,""))c+="/";return c};a.getBaseUrl=function(){return a.getBaseHref()||a.getBasePageUrl()||a.getRootUrl()};a.getPageUrl=function(){return((a.getState(false,false)||{}).url||d.location.href).replace(/\/+$/,"").replace(/[^\/]+$/,function(b){return/\./.test(b)?b:b+"/"})};a.getBasePageUrl=function(){return d.location.href.replace(/[#\?].*/,"").replace(/[^\/]+$/,function(b){return/[^\/]$/.test(b)?"":b}).replace(/\/+$/,
"")+"/"};a.getFullUrl=function(b,c){var e=b,h=b.substring(0,1);c=typeof c==="undefined"?true:c;/[a-z]+\:\/\//.test(b)||(e=h==="/"?a.getRootUrl()+b.replace(/^\/+/,""):h==="#"?a.getPageUrl().replace(/#.*/,"")+b:h==="?"?a.getPageUrl().replace(/[\?#].*/,"")+b:c?a.getBaseUrl()+b.replace(/^(\.\/)+/,""):a.getBasePageUrl()+b.replace(/^(\.\/)+/,""));return e.replace(/\#$/,"")};a.getShortUrl=function(b){var c=a.getBaseUrl(),e=a.getRootUrl();if(a.emulated.pushState)b=b.replace(c,"");b=b.replace(e,"/");if(a.isTraditionalAnchor(b))b=
"./"+b;return b=b.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")};a.store={};a.idToState=a.idToState||{};a.stateToId=a.stateToId||{};a.urlToId=a.urlToId||{};a.storedStates=a.storedStates||[];a.savedStates=a.savedStates||[];a.normalizeStore=function(){a.store.idToState=a.store.idToState||{};a.store.urlToId=a.store.urlToId||{};a.store.stateToId=a.store.stateToId||{}};a.getState=function(b,c){if(typeof b==="undefined")b=true;if(typeof c==="undefined")c=true;var e=a.getLastSavedState();if(!e&&c)e=a.createStateObject();
if(b){e=a.cloneObject(e);e.url=e.cleanUrl||e.url}return e};a.getIdByState=function(b){var c=a.extractId(b.url),e;if(!c){e=a.getStateString(b);if(typeof a.stateToId[e]!=="undefined")c=a.stateToId[e];else if(typeof a.store.stateToId[e]!=="undefined")c=a.store.stateToId[e];else{for(;;){c=(new Date).getTime()+String(Math.random()).replace(/\D/g,"");if(typeof a.idToState[c]==="undefined"&&typeof a.store.idToState[c]==="undefined")break}a.stateToId[e]=c;a.idToState[c]=b}}return c};a.normalizeState=function(b){var c;
if(!b||typeof b!=="object")b={};if(typeof b.normalized!=="undefined")return b;if(!b.data||typeof b.data!=="object")b.data={};c={};c.normalized=true;c.title=b.title||"";c.url=a.getFullUrl(a.unescapeString(b.url||d.location.href));c.hash=a.getShortUrl(c.url);c.data=a.cloneObject(b.data);c.id=a.getIdByState(c);c.cleanUrl=c.url.replace(/\??\&_suid.*/,"");c.url=c.cleanUrl;b=!aria.utils.Object.isEmpty(c.data);if(c.title||b){c.hash=a.getShortUrl(c.url).replace(/\??\&_suid.*/,"");/\?/.test(c.hash)||(c.hash+=
"?");c.hash+="&_suid="+c.id}c.hashedUrl=a.getFullUrl(c.hash);if((a.emulated.pushState||a.bugs.safariPoll)&&a.hasUrlDuplicate(c))c.url=c.hashedUrl;return c};a.createStateObject=function(b,c,e){b={data:b,title:c,url:e};return b=a.normalizeState(b)};a.getStateById=function(b){b=String(b);return a.idToState[b]||a.store.idToState[b]||m};a.getStateString=function(b){b={data:a.normalizeState(b).data,title:b.title,url:b.url};return n.stringify(b)};a.getHashByState=function(b){return a.normalizeState(b).hash};
a.extractId=function(b){return((b=/(.*)\&_suid=([0-9]+)$/.exec(b))?String(b[2]||""):"")||false};a.isTraditionalAnchor=function(b){return!/[\/\?\.]/.test(b)};a.extractState=function(b,c){var e=null,h,l;c=c||false;if(h=a.extractId(b))e=a.getStateById(h);if(!e){l=a.getFullUrl(b);if(h=a.getIdByUrl(l)||false)e=a.getStateById(h);if(!e&&c&&!a.isTraditionalAnchor(b))e=a.createStateObject(null,null,l)}return e};a.getIdByUrl=function(b){return a.urlToId[b]||a.store.urlToId[b]||m};a.getLastSavedState=function(){return a.savedStates[a.savedStates.length-
1]||m};a.hasUrlDuplicate=function(b){var c=false;return c=(c=a.extractState(b.url))&&c.id!==b.id};a.storeState=function(b){a.urlToId[b.url]=b.id;a.storedStates.push(a.cloneObject(b));return b};a.isLastSavedState=function(b){var c=false;if(a.savedStates.length){b=b.id;c=a.getLastSavedState();c=c.id;c=b===c}return c};a.saveState=function(b){if(a.isLastSavedState(b))return false;a.savedStates.push(a.cloneObject(b));return true};a.getStateByIndex=function(b){var c=null;return c=typeof b==="undefined"?
a.savedStates[a.savedStates.length-1]:b<0?a.savedStates[a.savedStates.length+b]:a.savedStates[b]};a.getHash=function(){return a.unescapeHash(d.location.hash)};a.unescapeString=function(b){for(var c;;){c=g.unescape(b);if(c===b)break;b=c}return b};a.unescapeHash=function(b){b=a.normalizeHash(b);return b=a.unescapeString(b)};a.normalizeHash=function(b){return b.replace(/[^#]*#/,"").replace(/#.*/,"")};a.setHash=function(b,c){var e,h;if(c!==false&&a.busy()){a.pushQueue({scope:a,callback:a.setHash,args:arguments,
queue:c});return false}e=a.escapeHash(b);a.busy(true);if((h=a.extractState(b,true))&&!a.emulated.pushState)a.pushState(h.data,h.title,h.url,false);else if(d.location.hash!==e)if(a.bugs.setHash){h=a.getPageUrl();a.pushState(null,null,h+"#"+e,false)}else d.location.hash=e;return a};a.escapeHash=function(b){b=a.normalizeHash(b);b=g.escape(b);a.bugs.hashEscape||(b=b.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?"));return b};a.getHashByUrl=function(b){b=String(b).replace(/([^#]*)#?([^#]*)#?(.*)/,
"$2");return b=a.unescapeHash(b)};a.setTitle=function(b){var c=b.title,e;if(!c)if((e=a.getStateByIndex(0))&&e.url===b.url)c=e.title||a.options.initialTitle;try{d.getElementsByTagName("title")[0].innerHTML=c.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(h){}d.title=c;return a};a.queues=[];a.busy=function(b){if(typeof b!=="undefined")a.busy.flag=b;else if(typeof a.busy.flag==="undefined")a.busy.flag=false;if(!a.busy.flag){k(a.busy.timeout);var c=function(){var e,h;if(!a.busy.flag)for(e=
a.queues.length-1;e>=0;--e){h=a.queues[e];if(h.length!==0){h=h.shift();a.fireQueueItem(h);a.busy.timeout=i(c,a.options.busyDelay)}}};a.busy.timeout=i(c,a.options.busyDelay)}return a.busy.flag};a.busy.flag=false;a.fireQueueItem=function(b){return b.callback.apply(b.scope||a,b.args||[])};a.pushQueue=function(b){a.queues[b.queue||0]=a.queues[b.queue||0]||[];a.queues[b.queue||0].push(b);return a};a.queue=function(b,c){if(typeof b==="function")b={callback:b};if(typeof c!=="undefined")b.queue=c;a.busy()?
a.pushQueue(b):a.fireQueueItem(b);return a};a.stateChanged=false;a.doubleChecker=false;a.doubleCheckComplete=function(){a.stateChanged=true;a.doubleCheckClear();return a};a.doubleCheckClear=function(){if(a.doubleChecker){k(a.doubleChecker);a.doubleChecker=false}return a};a.doubleCheck=function(b){a.stateChanged=false;a.doubleCheckClear();if(a.bugs.ieDoubleCheck)a.doubleChecker=i(function(){a.doubleCheckClear();a.stateChanged||b();return true},a.options.doubleCheckInterval);return a};a.safariStatePoll=
function(){var b=a.extractState(d.location.href);if(!a.isLastSavedState(b)){b||a.createStateObject();a.Adapter.trigger(g,"popstate");return a}};a.back=function(b){if(b!==false&&a.busy()){a.pushQueue({scope:a,callback:a.back,args:arguments,queue:b});return false}a.busy(true);a.doubleCheck(function(){a.back(false)});r.go(-1);return true};a.forward=function(b){if(b!==false&&a.busy()){a.pushQueue({scope:a,callback:a.forward,args:arguments,queue:b});return false}a.busy(true);a.doubleCheck(function(){a.forward(false)});
r.go(1);return true};a.go=function(b,c){var e;if(b>0)for(e=1;e<=b;++e)a.forward(c);else if(b<0)for(e=-1;e>=b;--e)a.back(c);else throw Error("History.go: History.go requires a positive or negative integer passed.");return a};if(a.emulated.pushState){var s=function(){};a.pushState=a.pushState||s;a.replaceState=a.replaceState||s}else{a.onPopState=function(b,c){var e=false;e=false;a.doubleCheckComplete();if(e=a.getHash()){if(e=a.extractState(e||d.location.href,true))a.replaceState(e.data,e.title,e.url,
false);else{a.Adapter.trigger(g,"anchorchange");a.busy(false)}return a.expectedStateId=false}(e=(e=a.Adapter.extractEventData("state",b,c)||false)?a.getStateById(e):a.expectedStateId?a.getStateById(a.expectedStateId):a.extractState(d.location.href))||(e=a.createStateObject(null,null,d.location.href));a.expectedStateId=false;if(a.isLastSavedState(e)){a.busy(false);return false}a.storeState(e);a.saveState(e);a.setTitle(e);a.Adapter.trigger(g,"statechange");a.busy(false);return true};a.Adapter.bind(g,
"popstate",a.onPopState);a.pushState=function(b,c,e,h){if(a.getHashByUrl(e)&&a.emulated.pushState)throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(h!==false&&a.busy()){a.pushQueue({scope:a,callback:a.pushState,args:arguments,queue:h});return false}a.busy(true);var l=a.createStateObject(b,c,e);if(a.isLastSavedState(l))a.busy(false);else{a.storeState(l);a.expectedStateId=l.id;r.pushState(l.id,l.title,l.url);a.Adapter.trigger(g,"popstate")}return true};
a.replaceState=function(b,c,e,h){if(a.getHashByUrl(e)&&a.emulated.pushState)throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(h!==false&&a.busy()){a.pushQueue({scope:a,callback:a.replaceState,args:arguments,queue:h});return false}a.busy(true);var l=a.createStateObject(b,c,e);if(a.isLastSavedState(l))a.busy(false);else{a.storeState(l);a.expectedStateId=l.id;r.replaceState(l.id,l.title,l.url);a.Adapter.trigger(g,"popstate")}return true}}if(j)try{a.store=
n.parse(j.getItem("History.store"))||{}}catch(t){a.store={}}else a.store={};a.normalizeStore();a.Adapter.bind(g,"beforeunload",a.clearAllIntervals);a.Adapter.bind(g,"unload",a.clearAllIntervals);a.saveState(a.storeState(a.extractState(d.location.href,true)));if(j)a.onUnload=function(){var b,c;try{b=n.parse(j.getItem("History.store"))||{}}catch(e){b={}}b.idToState=b.idToState||{};b.urlToId=b.urlToId||{};b.stateToId=b.stateToId||{};for(c in a.idToState)if(a.idToState.hasOwnProperty(c))b.idToState[c]=
a.idToState[c];for(c in a.urlToId)if(a.urlToId.hasOwnProperty(c))b.urlToId[c]=a.urlToId[c];for(c in a.stateToId)if(a.stateToId.hasOwnProperty(c))b.stateToId[c]=a.stateToId[c];a.store=b;a.normalizeStore();j.setItem("History.store",n.stringify(b));n.$dispose();a.onPopStateCb!==m&&aria.utils.HashManager.removeCallback(a.onPopStateCb);a.onHashChangeCb!==m&&aria.utils.HashManager.removeCallback(a.onHashChangeCb)};if(!a.emulated.pushState){a.bugs.safariPoll&&a.intervalList.push(o(a.safariStatePoll,a.options.safariPollInterval));
if(f.vendor==="Apple Computer, Inc."||(f.appCodeName||"")==="Mozilla"){a.onPopStateCb={fn:function(){a.Adapter.trigger(g,"popstate")}};aria.utils.HashManager.addCallback(a.onPopStateCb);if(a.getHash())a.Adapter.onDomLoad(function(){a.Adapter.trigger(g,"hashchange")})}}}})(Aria.$window);Aria.classDefinition({$classpath:"aria.utils.History",$singleton:true,$dependencies:["aria.core.Browser","aria.utils.Object","aria.utils.HashManager"],$constructor:function(){a.init();a.Adapter.bind(Aria.$window,"statechange",
function(){aria.utils.History.$raiseEvent({name:"onpopstate",state:a.getState()})})},$destructor:function(){a.onUnload()},$events:{onpopstate:{description:"Notify window when a state is popped and rise is event",properties:{state:"The state that has been popped."}}},$prototype:{getState:function(){return a.getState()},back:function(){a.back()},forward:function(){a.forward()},go:function(g){a.go(g)},pushState:function(g,m,d){a.pushState(g,m,d)},replaceState:function(g,m,d){a.replaceState(g,m,d)}}})})();
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/Html.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.Html",$extends:"aria.core.JsObject",$dependencies:["aria.templates.DomElementWrapper","aria.utils.String"],$singleton:true,$statics:{INVALID_CONFIGURATION:"Invalid attribute %1."},$prototype:{buildAttributeList:function(e){var a=[],g=aria.templates.DomElementWrapper.attributesWhiteList,f=aria.utils.String,b;for(b in e)if(e.hasOwnProperty(b)){var c=e[b];if(b==="classList"){a.push(' class="');a.push(f.encodeForQuotedHTMLAttribute(c.join(" ")));a.push('"')}else if(b===
"dataset")for(var d in c){if(c.hasOwnProperty(d)&&d.substr(0,5)!="data-"){a.push(" data-",d,'="');a.push(f.encodeForQuotedHTMLAttribute(c[d]));a.push('"')}}else if(g.test(b)){a.push(" ",b,'="');a.push(f.encodeForQuotedHTMLAttribute(c));a.push('"')}else this.$logError(this.INVALID_CONFIGURATION,b)}return a.join("")}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/IdManager.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.IdManager",$dependencies:["aria.utils.Array"],$constructor:function(a){this._freeIdMap={};this._idCounter=0;this.prefix=a||""},$destructor:function(){this._freeIdMap=null},$prototype:{getId:function(){for(var a in this._freeIdMap)if(this._freeIdMap.hasOwnProperty(a)){delete this._freeIdMap[a];return a}a=this.prefix+this._idCounter;this._idCounter++;return a},releaseId:function(a){if(a)this._freeIdMap[a]=true}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/InheritanceNormalization.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.InheritanceNormalization",$dependencies:["aria.core.JsonValidator","aria.utils.FunctionWriter"],$singleton:true,$prototype:{writeInheritanceNormalization:function(a){if(a.excludes!==true){var b=a.writer,d=b.out,c=a.varToNormalize,h=a.parentVars,e=a.beanDef||aria.core.JsonValidator.getBean(a.beanName);if(e["aria:baseType"].typeName=="Object"){d.push("if (",c,"==null) {",c,"={};","}");d=a.excludes||{};c=b.createShortcut(c);var i=[],j=a.emptyObjectVar;if(j==
null)j=b.createTempVariable("{}");var k="||"+j;a=0;for(var f=h.length;a<f;a++)i[a]=b.createTempVariable(h[a]+k);e=e.$properties;for(var g in e)if(e.hasOwnProperty(g)){h=b.getDotProperty(g);k=[];a=0;for(f=i.length;a<f;a++)k[a]=i[a]+h;this.writeInheritanceNormalization({writer:b,beanDef:e[g],varToNormalize:c+h,parentVars:k,emptyObjectVar:j,excludes:d[g]})}a=0;for(f=i.length;a<f;a++)b.releaseTempVariable(i[a]);b.releaseShortcut(c)}else{b=h.slice();"$strDefault"in e&&b.push(e.$strDefault);if(b.length>
0){d.push("if (",c,"==null) {");if(b.length==1)d.push(c,"=",b[0],";");else{a=0;for(f=b.length-1;a<f;a++){g=b[a];a>0&&d.push("} else ");d.push("if (",g,"!=null){",c,"=",g,";")}d.push("} else {",c,"=",b[b.length-1],";}")}}d.push("}")}}}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/Math.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.Math",$singleton:true,$dependencies:["aria.utils.Type"],$constructor:function(){this.utilType=aria.utils.Type},$prototype:{normalize:function(a,c,b){var d=this.utilType.isNumber;if(!d(a))return a;if(d(c))a=Math.max(a,c);if(d(b))a=Math.min(a,b);return a},min:function(a,c){var b=this.utilType.isNumber,d=b(a);b=b(c);if(!d&&!b)return null;else if(d){if(!b)return a}else return c;return Math.min(a,c)},max:function(a,c){var b=this.utilType.isNumber,d=b(a);b=b(c);
if(!d&&!b)return null;else if(d){if(!b)return a}else return c;return Math.max(a,c)}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/Mouse.js
//MCylagYg2Y
(function(){function e(a){var b=Aria.$window.document.body;c.removeListener(b,"mousemove",{fn:a._onMouseMove,scope:a});c.removeListener(b,"mouseup",{fn:a._onMouseUp,scope:a})}var c,f=0;Aria.classDefinition({$classpath:"aria.utils.Mouse",$singleton:true,$dependencies:["aria.utils.Event","aria.utils.AriaWindow"],$statics:{DRAGGABLE_ATTRIBUTE:"atdraggable"},$destructor:function(){aria.utils.AriaWindow.$unregisterListeners(this);this._disconnectMouseDownEvent();c=null},$constructor:function(){c=aria.utils.Event;
var a=aria.utils.AriaWindow;a.$on({attachWindow:this._connectMouseDownEvent,detachWindow:this._disconnectMouseDownEvent,scope:this});a.isWindowUsed&&this._connectMouseDownEvent();this.__dragStarted=this.__dragDetected=false},$prototype:{_connectMouseDownEvent:function(){c.addListener(Aria.$window.document.body,"mousedown",{fn:this._onMouseDown,scope:this})},_disconnectMouseDownEvent:function(){c.removeListener(Aria.$window.document.body,"mousedown",{fn:this._onMouseDown,scope:this});e(this)},maxDepth:-1,
_idList:{drag:{}},_candidateForDrag:"",_activeDrag:"",listen:function(a,b){if(a=="drag")return this._listenDrag(b)},_listenDrag:function(a){var b=++f;this._idList.drag[b]=a;return b},stopListen:function(a,b){this._idList[a]&&delete this._idList[a][b]},_onMouseDown:function(a){a=new aria.DomEvent(a);var b=Aria.$window.document.body;c.addListener(b,"mousemove",{fn:this._onMouseMove,scope:this});c.addListener(b,"mouseup",{fn:this._onMouseUp,scope:this});this._detectDrag(a)&&a.preventDefault(true);a.$dispose();
return false},_detectDrag:function(a){var b;a:{b=this.maxDepth;a=a.target;for(var d;b&&a&&a!=Aria.$window.document.body;){if(a.attributes)if(d=a.attributes[this.DRAGGABLE_ATTRIBUTE]){b=d.nodeValue;break a}a=a.parentNode;b--}b=void 0}if(b){b=this._idList.drag[b];this.$assert(211,!!b);this._candidateForDrag=b;this.__dragDetected=true;this.__dragStarted=false;return true}},_startDrag:function(a){var b=this._candidateForDrag;if(b){this._activeDrag=b;this.__dragStarted=true;b.start(a)}},_onMouseMove:function(a){this.__dragDetected&&
!this.__dragStarted&&this._startDrag({x:a.clientX,y:a.clientY});var b=this._activeDrag;if(b){if(!a.button){var d=aria.core.Browser;if(d.isIE8||d.isIE7||d.isIE6)return this._onMouseUp(a)}a=new aria.DomEvent(a);b.move(a);a.$dispose()}},_onMouseUp:function(){this.__dragDetected=false;e(this);var a=this._activeDrag;a&&a.end();this._activeDrag=this._candidateForDrag=null}}})})();
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/Number.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.Number",$singleton:true,$dependencies:["aria.utils.environment.Number","aria.utils.String","aria.utils.Type","aria.utils.Array"],$constructor:function(){this._validDigits=/^(\-|\.|\+)?\d+(\.)?(\d+)?$/;this._digitsOnly=/^\d+$/;this._validCurrency=/^([\u00A4])?([,#0]+)(?:\.([#0]+))?([\u00A4])?$/;this._regExSpecials=RegExp("(\\"+"/.*+?|()[]{}\\".split("").join("|\\")+")","g");this._grouping=this._decimal=this._replaceDecimal=this._removeGrouping=null;this._strictGrouping=
true;this._currency=this._format=null;this._cache={};this._formatCache={};aria.core.AppEnvironment.$on({changingEnvironment:{fn:this._appEnvChanged,scope:this}});this._appEnvChanged.call(this)},$destructor:function(){this._formatCache=null},$statics:{INVALID_FORMAT_TYPE:"Application config format can only be a string or a function",DEPRECATED:"The method '%1' is deprecated. Please check the API docs for alternatives",INVALID_FORMAT:"The format used for %1 is invalid, please check bean %2",DECIMAL_BEAN:"aria.utils.environment.NumberCfgBeans.DecimalFormatSymbols",
CURRENCY_BEAN:"aria.utils.environment.NumberCfgBeans.CurrencyFormatsCfg"},$prototype:{toNumber:function(a){if(!this._validDigits.test(a))return null;return Number(a)},interpretNumber:function(a,b,c){var e=this._explode(b);b="";var d,f,h,i=e.regularGroup,g=!!c;c=this._normalizeSymbols(c);d=c.groupingSeparator;f=c.decimalSeparator;h=c.strictGrouping;c=g?this._buildRegEx(d,f):{group:this._removeGrouping,decimal:this._replaceDecimal};g=a.charAt(0);if(g==="+"||g==="-"){b=g;a=a.substring(1);g=a.charAt(0)}var k=
a.lastIndexOf(d);if(k>-1){var l=a.indexOf(f);if(l>-1&&l<k)return null;if(g===d)return null;if(h){if(!e.hasGrouping)return null;var j;d=a.split(d);if(i===0){j=e.integer.split(",");if(j.length<d.length)return null}e=d[0];if(i>0&&e.length>i||!this._digitsOnly.test(e))return null;for(h=d.length-2;h>0;h-=1){e=d[h];g=i||j[h].length;if(e.length!==g||e.indexOf(f)!==-1)return null}e=d[d.length-1];g=i||j[j.length-1].length;if(e.length!==g&&e.charAt(g)!==f)return null}}a=b+a.replace(c.group,"");if(f!=="."&&
a.indexOf(".")!==-1)return null;a=a.replace(c.decimal,".");if(!this._validDigits.test(a))return null;return a},formatNumber:function(a,b,c){if(isNaN(a))return a;a=Number(a);c=this._normalizeSymbols(c);b=this._explode(b);if(!b)return this.$logError(this.INVALID_FORMAT,["formatCurrency",this.CURRENCY_BEAN]);var e=Math.abs(a).toString().split("."),d=Math.abs(a).toFixed(b.maxDecLen).split(".");a=a<0?"-":"";var f=d[0];e=e[1]||"";d=d[1]||"";if(f.length<b.minIntLen)f=aria.utils.String.pad(f,b.minIntLen,
"0",true);if(d.length!==e.length)d=aria.utils.String.crop(d,b.minDecLen,"0");b=[a+this._addGrouping(f,b,c)];d&&b.push(d);return b.join(c.decimalSeparator)},formatCurrency:function(a,b,c){c=this._normalizeSymbols(c);var e=this._explode(b);if(!e)return this.$logError(this.INVALID_FORMAT,["formatCurrency",this.CURRENCY_BEAN]);var d=this._currency;a=this.formatNumber(a,b,c);return e.currencyBegin?d+a:e.currencyEnd?a+d:a},isValidPattern:function(a){return!!this._explode(a)},_appEnvChanged:function(a){var b=
aria.utils.Array;if(!a||!a.changedProperties||b.contains(a.changedProperties,"decimalFormatSymbols")||b.contains(a.changedProperties,"currencyFormats")){b=aria.utils.environment.Number.getDecimalFormatSymbols();a=aria.utils.environment.Number.getCurrencyFormats();var c=this._buildRegEx(b.groupingSeparator,b.decimalSeparator);if(c.valid){this._removeGrouping=c.group;this._replaceDecimal=c.decimal;this._decimal=b.decimalSeparator;this._grouping=b.groupingSeparator;this._strictGrouping=b.strictGrouping}b=
aria.utils.Type;if(!b.isString(a.currencyFormat)&&!b.isFunction(a.currencyFormat))this.$logError(this.INVALID_FORMAT,["currencyFormat",this.CURRENCY_BEAN]);else{this._format=a.currencyFormat;this._currency=a.currencySymbol}}},_buildRegEx:function(a,b){var c={valid:true};if(!a||a.length>1||/\d/.test(a)){this.$logError(this.INVALID_FORMAT,["groupingSeparator",this.DECIMAL_BEAN]);c.valid=false}if(!b||b.length>1||/\d/.test(b)){this.$logError(this.INVALID_FORMAT,["decimalSeparator",this.DECIMAL_BEAN]);
c.valid=false}if(a===b){this.$logError(this.INVALID_FORMAT,["decimalSeparator",this.DECIMAL_BEAN]);c.valid=false}if(c.valid){c.group=RegExp(a.replace(this._regExSpecials,"\\$1"),"g");c.decimal=RegExp(b.replace(this._regExSpecials,"\\$1"))}return c},_normalizeSymbols:function(a){if(a){a.decimalSeparator=a.decimalSeparator||this._decimal;a.groupingSeparator=a.groupingSeparator||this._grouping;a.strictGrouping=a.strictGrouping!=null?a.strictGrouping:this._strictGrouping}else a={decimalSeparator:this._decimal,
groupingSeparator:this._grouping,strictGrouping:this._strictGrouping};return a},_explode:function(a){if(!a)a=this._format;var b=aria.utils.Type;if(b.isFunction(a))a=a();if(b.isString(a)){if(b=this._cache[a])return b;var c=this._validCurrency.exec(a);if(c){b={currencyBegin:!!c[1],currencyEnd:!!c[4],integer:c[2],decimal:c[3]||""};c=b.integer.replace(/,/g,"");var e=c.indexOf("0");b.minIntLen=e>-1?c.length-e:0;b.hasGrouping=c.length!=b.integer.length;if(b.hasGrouping)if(b.integer.length-c.length===1)b.regularGroup=
b.integer.length-b.integer.indexOf(",")-1;else{c=b.integer.split(",");e=b.integer.length-b.integer.lastIndexOf(",")-1;for(var d=1,f=c.length;d<f;d+=1)if(c[d].length!=e){e=0;break}b.regularGroup=e}b.minDecLen=b.decimal.lastIndexOf("0")+1;b.maxDecLen=b.decimal.length}return this._cache[a]=b}},_addGrouping:function(a,b,c){if(!b.hasGrouping)return a;c=c.groupingSeparator;var e=b.integer,d=b.regularGroup;b=[];if(d>0)b=d;else{e=e.split(",");for(d=e.length-1;d>0;d-=1)b.push(e[d].length)}return aria.utils.String.chunk(a,
b).join(c)}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/overlay/CloneOverlay.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.overlay.CloneOverlay",$extends:"aria.utils.overlay.Overlay",$dependencies:["aria.utils.Dom"],$constructor:function(a,b){this._originalElement=a;this.__clone=a.cloneNode(true);this.$Overlay.constructor.call(this,this.__clone,b)},$destructor:function(){this.__clone=this._originalElement=null;this.$Overlay.$destructor.call(this)},$prototype:{_createOverlay:function(a){this.$Overlay._createOverlay(a);var b=this.__clone;aria.utils.Dom.setOpacity(b,"opacity"in
a?a.opacity:0.5);return b},_setInPosition:function(a,b){var c=b.style;c.position="absolute";c.top=a.offsetTop+"px";c.left=a.offsetLeft+"px";c.display="block"},_appendToDOM:function(a){this._originalElement.parentNode.appendChild(a)}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/overlay/LoadingOverlay.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.overlay.LoadingOverlay",$extends:"aria.utils.overlay.Overlay",$constructor:function(a,d,b){this.__text=b;this.$Overlay.constructor.call(this,a,{id:d,className:"xLDI"})},$prototype:{_createOverlay:function(a){a=this.$Overlay._createOverlay.call(this,a);if(this.__text)a.innerHTML="<span class='xLDI-text'>"+this.__text+"</span>";return a},_appendToDOM:function(a){Aria.$window.document.body.appendChild(a)},_setInPosition:function(a,d){var b=aria.utils.Dom.getGeometry(a),
c=d.style;if(b){c.top=b.y+"px";c.left=b.x+"px";c.width=b.width+"px";c.height=b.height+"px";c.display="block"}else c.display="none"}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/overlay/Overlay.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.overlay.Overlay",$dependencies:["aria.utils.Dom"],$constructor:function(a,c){var b=this._createOverlay(c);this.overlay=b;this.element=a;this._appendToDOM(b);this._setInPosition(a,b);this._computeZIndex(a,b)},$destructor:function(){this.overlay.parentNode.removeChild(this.overlay);this.element=this.overlay=null},$prototype:{_createOverlay:function(a){var c=Aria.$window.document.createElement(a.type||"div");if(a.id)c.id="xOverlay"+a.id;c.className=a.className||
"xOverlay";c.style.position=a.position||"fixed";return c},_appendToDOM:function(a){Aria.$window.document.body.appendChild(a)},_setInPosition:function(a,c){for(var b=aria.utils.Dom,e=c.style,d=["Top","Right","Bottom","Left"],h,f={},g=0,i=d.length;g<i;g++){h=b.getStyle(c,"border"+d[g]+"Width").split("px")[0];f[d[g].toLowerCase()]=h?+h:0}if(b=aria.utils.Dom.getGeometry(a)){e.position="absolute";e.top=b.y+"px";e.left=b.x+"px";e.width=b.width-f.left-f.right+"px";e.height=b.height-f.top-f.bottom+"px";e.display=
"block"}},_computeZIndex:function(a,c){for(var b=2E4,e=Aria.$window.document.body;a&&a!=e;){var d=a.style.zIndex;if(d){d=parseInt(d,10);if(d>b)b=d+1}a=a.parentNode}c.style.zIndex=""+b},refreshPosition:function(){this._setInPosition(this.element,this.overlay)},refresh:function(){this._setInPosition(this.element,this.overlay);this._computeZIndex(this.element,this.overlay)}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/Path.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.Path",$dependencies:["aria.utils.String","aria.utils.Type"],$singleton:true,$statics:{WRONG_PATH_SYNTAX:"Syntax for path %1 is not valid. Note that variables cannot be used in paths.",RESOLVE_FAIL:"Resolve for path %1 failed, root element does not contain this path"},$prototype:{setValue:function(a,b,c){var d=aria.utils.Type;if(!(!a||!b||!d.isObject(a))){if(d.isString(b))b=this.parse(b);if(!(!d.isArray(b)||d.isNumber(b[0])))for(var e,f,g=0,h=b.length;g<
h;g+=1){e=b[g];if(g===h-1)a[e]=c;else{f=b[g+1];if(d.isNumber(f)&&!d.isArray(a[e]))a[e]=[];if(d.isString(f)&&(!d.isObject(a[e])||!(e in a)))a[e]={};a=a[e]}}}},resolve:function(a,b){if(aria.utils.Type.isString(a))a=this.parse(a);if(aria.utils.Type.isArray(a)){for(var c=0,d,e=a.length;c<e;c++){d=a[c];b=b[d];if(!b&&c!=e-1)throw{error:this.RESOLVE_FAIL,args:[a],object:b};}return b}throw{error:this.RESOLVE_FAIL,args:[a],object:b};},parse:function(a){return this._paramParse("."+a)},_paramParse:function(a){if(!a)return[];
var b=a.charAt(0),c,d;if(b=="["){c=a.indexOf("]");if(c!=-1){b=a.substring(1,c);d=a.substring(c+1);if(/^\d+$/.test(b)){a=this._paramParse(d);a.unshift(parseInt(b,10));return a}else{c=b.charAt(0);var e=aria.utils.String;if((c=="'"||c=='"')&&e.indexOfNotEscaped(b,c,1)==b.length-1){a=this._paramParse(d);a.unshift(b.substring(1,b.length-1).replace(RegExp("\\\\"+c,"gi"),c));return a}}}}else if(b=="."){b=/^[_A-z]\w*/.exec(a.substring(1));if(b.length){b=b[0];d=a.substring(b.length+1);a=this._paramParse(d);
a.unshift(b);return a}}throw{error:this.WRONG_PATH_SYNTAX,args:[a]};},pathArrayToString:function(a){for(var b=[a[0]],c=1,d=a.length;c<d;c++)b.push('["'+(""+a[c]).replace(/"/gi,'\\"')+'"]');return b.join("")},describe:function(a,b){var c=aria.utils.Type;if(!(!a||!b||!c.isObject(a))){if(c.isString(b))b=this.parse(b);if(!(!c.isArray(b)||c.isNumber(b[0])))for(var d=a,e,f=0,g=b.length;f<g;f+=1){e=b[f];if(c.isNumber(e)&&!c.isArray(d))return null;if(c.isString(e)&&(!c.isObject(d)||!(e in d)))return null;
if(f===g-1)return{container:d,property:e,value:d[e]};else d=d[e]}}}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/ProfilingDisplay.tpl
//MCylagYg2Y
/*
 * Copyright 2012 Amadeus s.a.s.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

// Display for profile informations
{Template {
    $classpath:'aria.utils.ProfilingDisplay',
    $hasScript: true
}}

    {var leftShift = 300/}
    {var scale = 2/}
    {var showAllMsg = true/}
    {var timeBegin = 0/}
    {var verticalBarTime1 = -1/}
    {var verticalBarTime2 = -1/}
    {var marginLeft = 5/}

    {macro main()}
        <div style="background:#ACC2FF;border-bottom:solid 2px black;padding:5px;width:${Math.max(getLength(data._max,0)+leftShift+30, 500)}px;color:white">
            <span {on click close/} style="cursor:pointer; padding-left:5px">
                {@aria:Icon {            
                    icon : 'std:close',
                    tooltip: "Close profiling data"
                }/}
            </span>
            <span {on click zoomOut/} style="cursor:pointer; padding-left:5px">
                {@aria:Icon {            
                    icon : 'std:zoom_out',
                    tooltip: "Zoom out"
                }/}
            </span>
            <span {on click zoomIn/} style="cursor:pointer; padding-left:5px">
                {@aria:Icon {            
                    icon : 'std:zoom_in',
                    tooltip: "Zoom in"
                }/}
            </span>
            <span {on click toggleChecked/} style="cursor:pointer; padding-left:5px">
                {@aria:Icon {            
                    icon : 'std:validated',
                    tooltip: "Show all/only selected items"
                }/}
            </span>
            <span {on click resetTimeOrigin/} style="cursor:pointer; padding-left:5px">
                {@aria:Icon {            
                    icon : 'std:undo',
                    tooltip: "Reset time origin"
                }/}
            </span>
        </div>
        <div {on mousedown mouseDown/} style="position:relative;">
            {foreach cat in data} 
                {if cat_index!='_max'}
                    {if showAllMsg || cat['view:visible']}
                        <div style="width:${getLength(data._max,0)+leftShift+30}px;border-bottom:solid 1px grey;margin:${marginLeft}px 0 15px 5px">
                            <h2>{call displayCheckBox(cat)/} ${cat_index}</h2>    
                            {foreach msg in cat}
                                {if msg_index.indexOf('view:') != 0 && (showAllMsg || msg['view:visible']) && isTimeRangeListVisible(msg)}
                                    <div style="position:relative; height:14px; width:100%;border-top:dashed 1px #EEE;font-size:xx-small;">
                                        {call displayCheckBox(msg)/} ${msg_index} (${msg[0]}ms) 
                                        {for var i=1; i<msg.length;i++}
                                            {var log = msg[i]/}
                                            {if isTimeRangeVisible(log.start, log.length)}
                                                <div style="position:absolute;top:0;
                                                            overflow:hidden;
                                                            left:${getPosition(log.start)}px;
                                                            width:${getLength(log.length,log.start)}px;
                                                            height:14px;
                                                            background:#ACC2FF;
                                                            border-left:solid 1px black"
                                                    title="start: ${log.start}ms; length: ${log.length}ms; ${msg_index} (${cat_index})">${log.length}</div>
                                            {/if}
                                        {/for}
                                    </div>
                                {/if}
                            {/foreach}
                        </div>
                    {/if}
                {/if}
            {/foreach}
            {section {
                id: "verticalBars",
                macro: "displayVerticalBars"
            }/}
        </div>

    {/macro}
    
    {macro displayCheckBox(item)}
        {if showAllMsg}
            <span style="position:relative;top:-4px;vertical-align:middle;">
                {@aria:CheckBox {
                    bind: {
                        value: {
                            to: 'view:visible',
                            inside: item
                        }
                    }
                }/}
            </span>
        {/if}
    {/macro}
    
    {macro displayVerticalBars()}
        {var timeDiff=Math.abs(verticalBarTime1-verticalBarTime2)/}
        {if isTimeRangeVisible(verticalBarTime1, 0)}
            <div style="position:absolute;left:${getPosition(verticalBarTime1)+marginLeft}px;top:0px;width:1px;height:100%;background-color:#C0C0C0;" title="ctrl marker position: ${verticalBarTime1}ms; ${timeDiff}ms between markers">&nbsp;</div>
        {/if}
        {if isTimeRangeVisible(verticalBarTime2, 0)}
            <div style="position:absolute;left:${getPosition(verticalBarTime2)+marginLeft}px;top:0px;width:1px;height:100%;background-color:#C0C0C0;" title="shift marker position: ${verticalBarTime2}ms; ${timeDiff}ms between markers">&nbsp;</div>
        {/if}
    {/macro}

{/Template}
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/ProfilingDisplayScript.js
//MCylagYg2Y
Aria.tplScriptDefinition({$classpath:"aria.utils.ProfilingDisplayScript",$prototype:{zoomIn:function(){this.scale/=2;this.$refresh()},zoomOut:function(){this.scale*=2;this.$refresh()},close:function(){aria.utils.Profiling.hideProfilingData()},getPosition:function(a){if(a<this.timeBegin)return this.leftShift;return(a-this.timeBegin)/this.scale+this.leftShift},getLength:function(a,b){var c=b-this.timeBegin;if(c<0)a+=c;if(a<=0)return 0;return a/this.scale},isTimeRangeVisible:function(a,b){return a+b>=
this.timeBegin},isTimeRangeListVisible:function(a){for(var b=1;b<a.length;b++)if(this.isTimeRangeVisible(a[b].start,a[b].length))return true;return false},getTimeFromPosition:function(a){return(a-this.leftShift)*this.scale+this.timeBegin},toggleChecked:function(){this.showAllMsg=!this.showAllMsg;this.$refresh()},mouseDown:function(a){var b=aria.utils.Dom.calculatePosition(aria.utils.Profiling._displayDiv.firstChild);b=a.clientX-b.left;if(aria.core.Browser.isIE7)b-=2;b=this.getTimeFromPosition(b-this.marginLeft);
if(!(b<this.timeBegin)){if(a.altKey&&!a.ctrlKey&&!a.shiftKey){this.timeBegin=b;this.$refresh()}else if(a.altKey)return;else{if(a.ctrlKey&&!a.shiftKey)this.verticalBarTime1=b;else if(a.shiftKey&&!a.ctrlKey)this.verticalBarTime2=b;else return;this.$refresh({outputSection:"verticalBars"})}a.preventDefault(true)}},resetTimeOrigin:function(){this.timeBegin=0;this.$refresh()}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/Rand.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.Rand",$singleton:true,$constructor:function(a){this.m=Math.pow(2,48);this.a=25214903917;this.c=11;this.last=a==null?12483:a},$prototype:{rand:function(){var a=(this.a*this.last+this.c)%this.m;return this.last=a},rand01:function(){return this.rand()/this.m}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/resize/Resize.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.resize.Resize",$extends:"aria.utils.dragdrop.Drag",$dependencies:["aria.utils.Dom","aria.utils.String","aria.utils.Json"],$constructor:function(a,b){b=b||{};this.minWidth=this.minHeight=100;this.$Drag.constructor.call(this,a,{handle:b.handle,cursor:b.cursor,proxy:{type:"Overlay"},axis:b.axis,constrainTo:aria.utils.Dom.VIEWPORT})},$destructor:function(){this.$Drag.$destructor.call(this);this.minWidth=this.minHeight=null},$prototype:{start:function(a){this.posX=
a.x;this.posY=a.y;a=this.getElement(true);var b=Aria.$window.document;a.onselectstart=Aria.returnFalse;b.onselectstart=Aria.returnFalse;this._setElementStyle(a);this._setBoundary();if(a=this.getMovable()){a.onselectstart=Aria.returnFalse;this._movableInitialGeometry=aria.utils.Dom.getGeometry(a);this._movableGeometry=aria.utils.Json.copy(this._movableInitialGeometry);this._baseMovableOffset={left:this._movableGeometry.x-a.offsetLeft,top:this._movableGeometry.y-a.offsetTop,height:this._movableGeometry.height-
a.offsetHeight,width:this._movableGeometry.width-a.offsetWidth};this.$raiseEvent("beforeresize")}},move:function(a){var b=this.getMovable();if(b&&b.style){var c=this._vertical?0:a.clientX-this.posX,d=this._horizontal?0:a.clientY-this.posY;a=aria.utils.Json.copy(this._movableGeometry);a=this._resizeWitHandlers(a,this.cursor,c,d);var e=/sw-resize|nw-resize|w-resize/.test(this.cursor),h=/nw-resize|ne-resize|n-resize/.test(this.cursor),f=a.width<this.minWidth,g=a.height<this.minHeight;if(f)a.width=this.minWidth;
if(g)a.height=this.minHeight;c=this._movableGeometry.x+this._movableGeometry.width;d=this._movableGeometry.y+this._movableGeometry.height;if(f&&e)a.x=c-this.minWidth;if(g&&h)a.y=d-this.minHeight;b.style.cursor=this.cursor;b.style.top=a.y-this._baseMovableOffset.top+"px";b.style.left=a.x-this._baseMovableOffset.left+"px";b.style.height=a.height-this._baseMovableOffset.height+"px";b.style.width=a.width-this._baseMovableOffset.width+"px";this._movableGeometry=a;this.$raiseEvent("resize")}},end:function(){var a=
this.getElement();a.onselectstart=Aria.returnTrue;if(this.proxy&&this.proxy.overlay){a.style.top=this._elementInitialPosition.top+this._movableGeometry.y-this._movableInitialGeometry.y+"px";a.style.left=this._elementInitialPosition.left+this._movableGeometry.x-this._movableInitialGeometry.x+"px";a.style.height=this._elementInitialPosition.height+this._movableGeometry.height-this._movableInitialGeometry.height+"px";a.style.width=this._elementInitialPosition.width+this._movableGeometry.width-this._movableInitialGeometry.width+
"px";this.proxy.$dispose();this.proxy=null}this.$raiseEvent("resizeend")},_resizeWitHandlers:function(a,b,c,d){a=aria.utils.Json.copy(a);var e=aria.utils.String.trim;b=e(b);c=a.width>=this.minWidth?c:0;d=a.height>=this.minHeight?d:0;switch(b){case "n-resize":a.y+=d;a.height-=d;a=this._fitResizeBoundary(a);this.posY+=a.y-this._movableGeometry.y;break;case "ne-resize":a.y+=d;a.height-=d;a.width+=c;a=this._fitResizeBoundary(a);this.posX+=c;this.posY+=a.y-this._movableGeometry.y;break;case "nw-resize":a.x+=
c;a.y+=d;a.height-=d;a.width-=c;a=this._fitResizeBoundary(a);this.posX+=a.x-this._movableGeometry.x;this.posY+=a.y-this._movableGeometry.y;break;case "s-resize":a.height+=d;a=this._fitResizeBoundary(a);this.posY+=d;break;case "se-resize":a.height+=d;a.width+=c;a=this._fitResizeBoundary(a);this.posY+=d;this.posX+=c;break;case "sw-resize":a.x+=c;a.height+=d;a.width-=c;a=this._fitResizeBoundary(a);this.posY+=d;this.posX+=a.x-this._movableGeometry.x;break;case "e-resize":a.width+=c;a=this._fitResizeBoundary(a);
this.posX+=c;break;case "w-resize":a.x+=c;a.width-=c;a=this._fitResizeBoundary(a);this.posX+=a.x-this._movableGeometry.x}return a},_fitResizeBoundary:function(a){var b=aria.utils.Dom;b=this._boundary?b.fitInside(a,this._boundary):{top:a.y,left:a.x};a.x=b.left;a.y=b.top;return a},_setElementStyle:function(a){var b=a.style;this._elementInitialPosition=a={left:a.offsetLeft,top:a.offsetTop,height:a.offsetHeight,width:a.offsetWidth};b.position="absolute";b.left=a.left+"px";b.top=a.top+"px";b.height=a.height+
"px";b.width=a.width+"px"}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/sandbox/DOMProperties.js
//MCylagYg2Y
(function(){var d={abbr:{TD:"rw",TH:"rw"},accept:{INPUT:"rw"},acceptCharset:{FORM:"rw"},accessKey:"rw",action:{FORM:"rw"},align:{IFRAME:"rw",IMG:"rw"},alt:{AREA:"rw",IMG:"rw"},axis:{TD:"rw",TH:"rw"},baseURI:"r-",border:{IMG:"rw"},cellIndex:{TD:"r-",TH:"r-"},cellPadding:{TABLE:"rw"},cellSpacing:{TABLE:"rw"},ch:{TD:"rw",TH:"rw",TR:"rw"},charset:{A:"rw"},checked:{INPUT:"rw"},chOff:{TD:"rw",TH:"rw",TR:"rw"},className:"rw",clientHeight:"r-",clientWidth:"r-",cols:{TEXTAREA:"rw"},colSpan:{TD:"rw",TH:"rw"},
complete:{IMG:"r-"},coords:{AREA:"rw"},defaultChecked:{INPUT:"rw"},defaultSelected:{OPTION:"rw"},defaultValue:{INPUT:"rw",TEXTAREA:"rw"},dir:"rw",disabled:{BUTTON:"rw",INPUT:"rw",OPTION:"rw",SELECT:"rw",TEXTAREA:"rw"},enctype:{FORM:"rw"},frame:{TABLE:"rw"},frameBorder:{IFRAME:"rw"},hash:{AREA:"rw"},headers:{TD:"rw",TH:"rw"},height:{IFRAME:"rw",IMG:"rw"},host:{AREA:"rw"},hostname:{AREA:"rw"},href:{A:"rw",AREA:"rw"},hreflang:{A:"rw"},hspace:{IMG:"rw"},id:"r-",index:{OPTION:"rw"},innerHTML:"r-",lang:"rw",
length:{FORM:"r-",SELECT:"r-"},localName:"r-",longDesc:{IFRAME:"rw",IMG:"rw"},lowsrc:{IMG:"rw"},marginHeight:{IFRAME:"rw"},marginWidth:{IFRAME:"rw"},maxLength:{INPUT:"rw"},method:{FORM:"rw"},multiple:{SELECT:"rw"},name:{A:"rw",BUTTON:"rw",FORM:"rw",IFRAME:"rw",IMG:"rw",INPUT:"rw",SELECT:"rw",TEXTAREA:"rw"},namespaceURI:"r-",naturalWidth:{IMG:"r-"},naturalHeight:{IMG:"r-"},nodeName:"r-",nodeType:"r-",nodeValue:"r-",noHref:{AREA:"rw"},noResize:{IFRAME:"rw"},offsetHeight:"r-",offsetLeft:"r-",offsetTop:"r-",
offsetWidth:"r-",pathname:{AREA:"rw"},port:{AREA:"rw"},prefix:"r-",protocol:{AREA:"rw"},readOnly:{INPUT:"rw",TEXTAREA:"rw"},rel:{A:"rw"},rev:{A:"rw"},rowIndex:{TR:"r-"},rows:{TEXTAREA:"rw"},rowSpan:{TD:"rw",TH:"rw"},rules:{TABLE:"rw"},schemaTypeInfo:"r-",scrollHeight:"r-",scrolling:{IFRAME:"rw"},scrollLeft:"rw",scrollTop:"rw",scrollWidth:"r-",search:{AREA:"rw"},sectionRowIndex:{TR:"r-"},selected:{OPTION:"rw"},selectedIndex:{SELECT:"rw"},shape:{AREA:"rw"},size:{INPUT:"rw",SELECT:"rw"},src:{IFRAME:"rw",
IMG:"rw"},style:"r-",summary:{TABLE:"rw"},tabIndex:"rw",tagName:"r-",target:{A:"rw",AREA:"rw",FORM:"rw"},text:{OPTION:"rw"},textContent:"r-",title:"rw",type:{A:"rw",BUTTON:"rw",INPUT:"r-",SELECT:"r-",TEXTAREA:"r-"},useMap:{IMG:"rw"},vAlign:{TD:"rw",TH:"rw",TR:"rw"},value:{BUTTON:"rw",INPUT:"rw",OPTION:"rw",SELECT:"rw",TEXTAREA:"rw"},vspace:{IMG:"rw"},width:{IFRAME:"rw",IMG:"rw"}};Aria.classDefinition({$classpath:"aria.utils.sandbox.DOMProperties",$singleton:true,$prototype:{getPropertyAccess:function(a,
b){if(!d.hasOwnProperty(b))return"--";var c=d[b];if(typeof c=="object"){a=a.toUpperCase();if(!c.hasOwnProperty(a))return"--";c=c[a]}return c},isReadSafe:function(a,b){return this.getPropertyAccess(a,b).charAt(0)=="r"},isWriteSafe:function(a,b){return this.getPropertyAccess(a,b).charAt(1)=="w"}}})})();
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/ScriptLoader.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.ScriptLoader",$singleton:true,$dependencies:["aria.utils.Type","aria.core.Browser"],$constructor:function(){this._queueIndex=0;this._queueCount={};this._loadedSripts=[]},$destructor:function(){this.loadedScripts=this._queueCount=null},$prototype:{load:function(c,f){var d,e,b,a,h,j=this._loadedSripts,k=this._queueIndex,l=Aria.$frameworkWindow.document,m=l.getElementsByTagName("head")[0],i=this,n=function(g){g=""+g;i._queueCount[g]--;if(i._queueCount[g]===
0){delete i._queueCount[g];i.$callback(f)}};if(aria.utils.Type.isString(c))c=[c];d=h=0;for(e=c.length;d<e;d++){b=c[d];if(!j[b]){h++;j[b]=true;a=l.createElement("script");a.setAttribute("language","javascript");f&&this._addScriptLoadedCallback(a,n,[k,a]);a.src=b;m.appendChild(a)}}if(h===0)this.$callback(f);else this._queueCount[""+k]=h;this._queueIndex++},_addScriptLoadedCallback:function(c,f,d){this._addScriptLoadedCallback=aria.core.Browser.isIE?function(e,b,a){e.onreadystatechange=function(){if(this.readyState==
"complete"||this.readyState=="loaded")b.apply(null,a)}}:function(e,b,a){e.onload=function(){b.apply(null,a)}};this._addScriptLoadedCallback.call(this,c,f,d)}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/Size.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.Size",$dependencies:["aria.utils.Math"],$singleton:true,$prototype:{getSize:function(a){return{width:a.offsetWidth,height:a.offsetHeight}},__createDomContainer:function(){var a=Aria.$window.document,b=a.createElement("div");b.style.cssText="position:absolute;top:0px;left:0px;visibility:hidden;display:block;width:0px;height:0px;";return a.body.appendChild(b)},getFreeSize:function(a){var b=this.__createDomContainer(),e=a.parentNode;b.appendChild(a);var c=
{width:a.offsetWidth,height:a.offsetHeight};aria.utils.Type.isHTMLElement(e)&&e.appendChild(a);b.parentNode.removeChild(b);return c},setContrains:function(a,b,e){var c,d,f={},g=false,h=false;if(b){c=a.offsetWidth;d=aria.utils.Math.normalize(c,b.min,b.max);if(d!=c){a.style.width=d+"px";g=true}f.width=d}if(e){c=a.offsetHeight;d=aria.utils.Math.normalize(c,e.min,e.max);if(d!=c){a.style.height=d+"px";h=true}f.height=d}if(g||h){if(!b)f.width=a.offsetWidth;if(!e)f.height=a.offsetHeight;return f}return null}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/StackHashMap.js
//MCylagYg2Y
(function(){var g=0,f;Aria.classDefinition({$classpath:"aria.utils.StackHashMap",$dependencies:["aria.utils.Type"],$onload:function(){f=aria.utils.Type},$onunload:function(){f=null},$constructor:function(){g++;this._nextIndex=0;this._otherKeys=this._numberKeys=this._stringKeys=this._objectKeys=null;this._metaDataName=Aria.FRAMEWORK_PREFIX+"hash::"+g},$destructor:function(){this.removeAll()},$beans:{Entry:{$type:"json:Object",$description:"Structure used to store a (key, value) pair in a StackHashMap object.",
$properties:{key:{$type:"json:MultiTypes",$description:"Key of the entry."},value:{$type:"json:MultiTypes",$description:"Value of the entry."},next:{$type:"Entry",$description:"Link to the entry with the same key, which was present before adding this entry, if any, or undefined otherwise."},index:{$type:"json:MultiTypes",$description:"Index of this entry in _objectKeys, _stringKeys, _numberKeys, or _otherKeys."}}}},$prototype:{_getMap:function(a,d){if(f.isString(a)){if(!this._stringKeys&&d)this._stringKeys=
{};return this._stringKeys}else if(f.isNumber(a)){if(!this._numberKeys&&d)this._numberKeys={};return this._numberKeys}else if(a!=null&&(typeof a=="object"||f.isFunction(a))){if(!this._objectKeys&&d)this._objectKeys={};return this._objectKeys}else{if(!this._otherKeys&&d)this._otherKeys={};return this._otherKeys}},push:function(a,d){var b={key:a,value:d,index:this._nextIndex};this._nextIndex++;var c=this._getMap(a,true);if(c==this._objectKeys){var e=a[this._metaDataName];if(e){b.next=e;b.index=e.index}a[this._metaDataName]=
b}else if(c!=this._otherKeys){b.index=a;b.next=c[b.index]}else for(e in c)if(c.hasOwnProperty(e)){var h=c[e];if(a===h.key){b.index=e;b.next=h;break}}c[b.index]=b},pop:function(a){var d=this._getMap(a,false);if(d!=null){var b;if(d==this._objectKeys){if(b=a[this._metaDataName])(a[this._metaDataName]=b.next)||delete a[this._metaDataName]}else if(d!=this._otherKeys)b=d[a];else for(var c in d)if(d.hasOwnProperty(c)){var e=d[c];if(a===e.key){b=e;break}}if(b){a=b.next;(d[b.index]=a)||delete d[b.index];b.key=
null;b.next=null;return b.value}}},_removeAllToArray:function(a,d){if(a!=null)for(var b in a){var c=a[b],e=c.key;if(a==this._objectKeys){e[this._metaDataName]=null;delete c.key[this._metaDataName]}for(;c;){d.push(c.value);c.value=null;c.key=null;e=c.next;c.next=null;c=e}a[b]=null;delete a[b]}},removeAll:function(){var a=[];this._removeAllToArray(this._objectKeys,a);this._objectKeys=null;this._removeAllToArray(this._stringKeys,a);this._stringKeys=null;this._removeAllToArray(this._numberKeys,a);this._numberKeys=
null;this._removeAllToArray(this._otherKeys,a);this._otherKeys=null;return a}}})})();
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/Store.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.Store",$dependencies:["aria.utils.Array","aria.utils.Callback"],$constructor:function(){this._store=null;this._storeLength=0},$destructor:function(){var b;if(this._store){for(var a=0,c=this._store.length;a<c;a++){b=this._store[a];b.$dispose&&b.$dispose()}this._store=null}},$prototype:{add:function(b){if(!this._store){this._store=[];this.initialize()}this._store[this._storeLength++]=b},initialize:function(){},remove:function(b){if(this._store&&aria.utils.Array.remove(this._store,
b)){this._storeLength--;return true}return false},getSize:function(){return this._storeLength},getMatch:function(b,a){a=a===true;for(var c=null,d=a?[]:null,e=0,f=0;f<this._storeLength;f++){c=this._store[f];if(this.$callback(b,c)){if(!a)return c;d[e++]=c}}return d},removeMatch:function(b,a){b=new aria.utils.Callback(b);a=a===true;for(var c=null,d=a?[]:null,e=0;e<this._storeLength;e++){c=this._store[e];if(b.call(c)){this._store.splice(e,1);this._storeLength--;e-=1;if(!a){b.$dispose();return c}d.push(c)}}b.$dispose();
return d},foreach:function(b,a){var c=null;b=new aria.utils.Callback(b);if(a)a=new aria.utils.Callback(a);for(var d=0;d<this._storeLength;d++){c=this._store[d];a&&!a.call(c)||b.call(c)}b.$dispose();a&&a.$dispose()}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/UtilsRes.js
//MCylagYg2Y
Aria.resourcesDefinition({$classpath:"aria.utils.UtilsRes",$resources:{timeFormatLabels:{am:"AM",pm:"PM"}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/validators/Alpha.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.validators.Alpha",$extends:"aria.utils.validators.RegExp",$constructor:function(a){this.$RegExp.constructor.call(this,this.ALPHA_REGEXP,a)},$statics:{ALPHA_REGEXP:/^[A-Za-z]+$/,DEFAULT_LOCALIZED_MESSAGE:"Invalid ALPHA string."},$prototype:{}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/validators/AlphaInternational.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.validators.AlphaInternational",$extends:"aria.utils.validators.RegExp",$constructor:function(a){this.$RegExp.constructor.call(this,this.ALPHAINTERNATIONAL_REGEXP,a)},$statics:{ALPHAINTERNATIONAL_REGEXP:/^[A-Za-z0-9 \'\.\-\u00E0\u00C0\u00E1\u00C1\u00E2\u00C2\u00E3\u00C3\u00E4\u00C4\u00E5\u00C5\u00E6\u00C6\u00E7\u00C7\u00E8\u00C8\u00E9\u00C9\u00EA\u00CA\u00EB\u00CB\u00EC\u00CC\u00ED\u00CD\u00EE\u00CE\u00EF\u00CF\u00F0\u00D0\u00F1\u00D1\u00F2\u00D2\u00F3\u00D3\u00F4\u00D4\u00F5\u00D5\u00F6\u00D6\u00F8\u00D8\u00F9\u00D9\u00FA\u00DA\u00FB\u00DB\u00FC\u00DC\u00FD\u00DD\u00FE\u00DE\u00FF\u00DF]+$/,
DEFAULT_LOCALIZED_MESSAGE:"Invalid ALPHAINTERNATIONAL string."},$prototype:{}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/validators/AlphaNum.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.validators.AlphaNum",$extends:"aria.utils.validators.RegExp",$constructor:function(a){this.$RegExp.constructor.call(this,this.ALPHANUM_REGEXP,a)},$statics:{ALPHANUM_REGEXP:/^[A-Za-z0-9]+$/,DEFAULT_LOCALIZED_MESSAGE:"Invalid ALPHANUM string."},$prototype:{}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/validators/CfgBeans.js
//MCylagYg2Y
Aria.beanDefinitions({$package:"aria.utils.validators.CfgBeans",$description:"Beans used in validators and in the error widget.",$namespaces:{json:"aria.core.JsonTypes"},$beans:{MessagesList:{$type:"json:Array",$description:"List of messages.",$contentType:{$type:"Message"}},Message:{$type:"json:Object",$description:"Structure to store a message to be displayed to the user, with type, code, localized message, optional sub-messages...",$properties:{type:{$type:"json:String",$description:"Type of message, may be aria.utils.Data.TYPE_WARNING, aria.utils.Data.TYPE_ERROR or aria.utils.Data.TYPE_INFO. Other types are accepted as well.",
$default:"E"},localizedMessage:{$type:"json:String",$mandatory:true,$description:"Message in user language."},code:{$type:"json:String",$mandatory:false,$description:"Language-independent error code."},fieldRef:{$type:"json:String",$mandatory:false,$description:"Path to a value in the data model which the message refers to."},metaDataRef:{$type:"json:ObjectRef",$mandatory:false,$description:"Reference to the meta-data structure of the value in the data model which the message refers to."},subMessages:{$type:"MessagesList",
$mandatory:false,$description:"List of messages which describe in more details this message."}}}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/validators/Email.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.validators.Email",$extends:"aria.utils.validators.RegExp",$constructor:function(a){this.$RegExp.constructor.call(this,this.EMAIL_REGEXP,a)},$statics:{EMAIL_REGEXP:/^[A-Za-z0-9!#$%&;'=\^_~\*\+\-\/\?\`\{\|\}]+(?:\.[A-Za-z0-9!#$%&;'~=\^_\*\+\-\/\?\`\{\|\}]+)*@(?:[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?\.)+[A-Za-z0-9](?:[A-Za-z0-9\-]*[A-Za-z0-9])?$/,DEFAULT_LOCALIZED_MESSAGE:"Invalid e-mail."},$prototype:{}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/validators/IValidator.js
//MCylagYg2Y
Aria.interfaceDefinition({$classpath:"aria.utils.validators.IValidator",$interface:{validate:"Function"}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/validators/Mandatory.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.validators.Mandatory",$extends:"aria.utils.validators.Validator",$statics:{DEFAULT_LOCALIZED_MESSAGE:"This field is a mandatory field."},$prototype:{validate:function(a){if(a)return this._validationSucceeded();return this._validationFailed()}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/validators/MinMaxLength.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.validators.MinMaxLength",$extends:"aria.utils.validators.Validator",$constructor:function(a,c,b){this.minLength=a;this.maxLength=c;if(isNaN(parseInt(this.minLength,10))||isNaN(parseInt(this.maxLength,10)))this.$logError(this.MISSING_MIN_MAX_VALUES);a=[this.minLength,this.maxLength];b=!b?aria.utils.String.substitute(this.DEFAULT_LOCALIZED_MESSAGE,a):b;this.$Validator.constructor.call(this,b)},$destructor:function(){this.maxLength=this.minLength=null;this.$Validator.$destructor.call(this)},
$statics:{DEFAULT_LOCALIZED_MESSAGE:"The value must be more than %1 and less than %2 characters long.",MISSING_MIN_MAX_VALUES:"There was a problem loading the MinMaxLength validator, MIN and MAX values must be passed into the validators constructor."},$prototype:{validate:function(a){if(a==null||a==="")return this._validationSucceeded();if(a.length<this.minLength||a.length>this.maxLength)return this._validationFailed();return this._validationSucceeded()}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/validators/MultipleValidator.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.validators.MultipleValidator",$extends:"aria.utils.validators.Validator",$dependencies:["aria.utils.Array","aria.utils.Data"],$constructor:function(b,a,c){this.$Validator.constructor.call(this,b);this.validators=[];this.breakOnMessage=false;this.groupMessages=b!=null;this.groups=a!=null?a:[];this.eventToValidate=c!=null?c:"onsubmit";this.dataUtils=aria.utils.Data},$destructor:function(){this.validators=this.groupMessages=this.breakOnError=null;this.$Validator.$destructor.call(this)},
$prototype:{validate:function(b,a,c){var e=this.validators;if(e.length){for(var d,f=false,g=0;g<e.length;g++)if((f=this.dataUtils.checkGroup(e[g].groups,a))&&this.dataUtils.checkEventToValidate(e[g].eventToValidate,c))if((f=e[g].validate(b,a,c))&&f.length>0){d=d==null?f:d.concat(f);if(this.breakOnMessage)break}if(d&&d.length>0)if(this.groupMessages){b=aria.utils.Json.copy(this.message);b.subMessages=d;return[b]}else return d;return null}},add:function(){for(var b=0,a;a=arguments[b];b++){if(a.validator&&
(a.groups||a.event))this.dataUtils.setValidatorProperties(a.validator,a.groups,a.event);this.validators[this.validators.length]=a.validator?a.validator:a}},remove:function(){for(var b=aria.utils.Array,a=0,c;c=arguments[a];a++)b.remove(this.validators,c)}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/validators/Number.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.validators.Number",$extends:"aria.utils.validators.RegExp",$constructor:function(a){this.$RegExp.constructor.call(this,this.NUM_REGEXP,a)},$statics:{NUM_REGEXP:/^-?[0-9]+([\.,][0-9]+)?$/,DEFAULT_LOCALIZED_MESSAGE:"Invalid NUM string."},$prototype:{}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/validators/Object.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.validators.Object",$dependencies:["aria.utils.Type"],$extends:"aria.utils.validators.Validator",$prototype:{validate:function(a){if(a===null||aria.utils.Type.isObject(a))return this._validationSucceeded();return this._validationFailed()}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/validators/Phone.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.validators.Phone",$extends:"aria.utils.validators.RegExp",$constructor:function(a){this.$RegExp.constructor.call(this,this.PHONE_REGEXP,a)},$statics:{PHONE_REGEXP:/^[A-Za-z0-9 \-\+\(\)]{2,30}$/,DEFAULT_LOCALIZED_MESSAGE:"Invalid PHONE string."},$prototype:{}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/validators/RegExp.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.validators.RegExp",$extends:"aria.utils.validators.Validator",$constructor:function(a,b){this.$Validator.constructor.call(this,b);this._regexp=a},$destructor:function(){this._regexp=null;this.$Validator.$destructor.call(this)},$prototype:{validate:function(a){if(a==null||a==="")return this._validationSucceeded();if(!this._regexp.test(a))return this._validationFailed();return this._validationSucceeded()}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/validators/String.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.validators.String",$extends:"aria.utils.validators.RegExp",$constructor:function(a){this.$RegExp.constructor.call(this,this.STRING_REGEXP,a)},$statics:{STRING_REGEXP:/^[A-Za-z \-\,\.\'\?\!\:\%\+\=\_\@\;\#\*\(\)<>\[\]\/\"]*$/,DEFAULT_LOCALIZED_MESSAGE:"Invalid string."},$prototype:{}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/validators/Validator.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.validators.Validator",$dependencies:["aria.utils.Data"],$implements:["aria.utils.validators.IValidator"],$extends:"aria.core.JsObject",$constructor:function(a){this.localized_message=this.message=null;a?this.setMessage(a):this.setMessage(this.DEFAULT_LOCALIZED_MESSAGE);this.groups=[];this.eventToValidate="onsubmit"},$destructor:function(){this.eventToValidate=this.groups=this.message=null},$statics:{DEFAULT_LOCALIZED_MESSAGE:"Incorrect value."},$prototype:{$init:function(a){a.utilsType=
aria.utils.Type},validate:function(){return this._validationFailed()},setMessage:function(a){if(this.utilsType.isObject(a)){this.message=a;this.localized_message=a.localizedMessage}else if(this.utilsType.isString(a)){this.localized_message=a;this.message=aria.utils.Data.createMessage(a)}},_validationFailed:function(){return[aria.utils.Json.copy(this.message)]},_validationSucceeded:function(){return null}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/VisualFocus.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.VisualFocus",$dependencies:["aria.core.Browser","aria.utils.environment.VisualFocus","aria.utils.Delegate"],$singleton:true,$constructor:function(){this.__style=!aria.core.Browser.isIE6&&!aria.core.Browser.isIE7?aria.utils.environment.VisualFocus.getAppOutlineStyle():null;this.__focusedElement=aria.utils.Delegate.getFocus();this.__previousStyle=this.__outlinedElement=null;aria.utils.environment.VisualFocus.$on({environmentChanged:function(){this.updateOutlineStyle()},
scope:this});aria.utils.Delegate.$on({elementFocused:function(a){this.addVisualFocus(a.focusedElement)},scope:this});aria.utils.Delegate.$on({elementBlurred:function(){this.removeVisualFocus()},scope:this});this.__updateVisualFocus()},$destructor:function(){this.removeVisualFocus();this.__outlinedElement=this.__focusedElement=this.__style=null;aria.utils.Delegate&&aria.utils.Delegate.$unregisterListeners(this);aria.core.environment.Environment&&aria.core.environment.Environment.$unregisterListeners(this)},
$prototype:{addVisualFocus:function(a){this.__focusedElement&&this.removeVisualFocus();this.__focusedElement=a;if(this.__style){a=Aria.$window.document;if(this.__focusedElement.tagName!="A"&&this.__focusedElement.tagName!="BUTTON"){for(var b=this.__focusedElement;b.tagName!="SPAN"&&b!=a.body;b=b.parentNode);if(b!=a.body)this.__outlinedElement=b}else this.__outlinedElement=this.__focusedElement;if(this.__outlinedElement){this.__previousStyle=aria.core.Browser.isIE8?this.__outlinedElement.style.cssText:
this.__outlinedElement.style.outline?this.__outlinedElement.style.outline:"";this.__outlinedElement.style.outline=this.__style}}},removeVisualFocus:function(){if(this.__style&&this.__outlinedElement){if(aria.core.Browser.isIE8)this.__outlinedElement.style.cssText=this.__previousStyle;else this.__outlinedElement.style.outline=this.__previousStyle;this.__previousStyle=this.__outlinedElement=null}this.__focusedElement=null},updateOutlineStyle:function(a){a=a?a:aria.utils.environment.VisualFocus.getAppOutlineStyle();
this.__style=!aria.core.Browser.isIE6&&!aria.core.Browser.isIE7?a:null;this.__updateVisualFocus()},__updateVisualFocus:function(){if(this.__outlinedElement)if(this.__style)this.__outlinedElement.style.outline=this.__style;else{if(aria.core.Browser.isIE8)this.__outlinedElement.style.cssText=this.__previousStyle;else this.__outlinedElement.style.outline=this.__previousStyle;this.__previousStyle=this.__outlinedElement=null}else this.__focusedElement&&this.addVisualFocus(this.__focusedElement)},getStyle:function(){return this.__style}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/utils/Xml.js
//MCylagYg2Y
Aria.classDefinition({$classpath:"aria.utils.Xml",$singleton:true,$prototype:{convertXmlToJson:function(b){var a;if(a=Aria.$global.DOMParser)a=(new a).parseFromString(b,"text/xml");else{a=new Aria.$global.ActiveXObject("Microsoft.XMLDOM");a.async="false";a.loadXML(b)}return a.hasChildNodes()?this.__parseXmlNode(a):null},convertXmlNodeToJson:function(b){return this.__parseXmlNode(b)},__parseXmlNode:function(b){if(b){for(var a={},e=0;e<b.childNodes.length;e++){var c=b.childNodes[e];if(c.nodeType!=3&&
c.nodeType!=4){for(var d=c.nodeName,g=0,f=0;f<b.childNodes.length;f++)if(b.childNodes[f].nodeName==d)if(++g==2)break;c=this.__parseXmlNode(c);if(g==2){if(a[d]==null)a[d]=[];a[d].push(c)}else a[d]=c}else if(b.childNodes.length==1)a=c.nodeValue}return a}}}});
//MCylagYg2Y
//LOGICAL-PATH:aria/DomEvent.js
//MCylagYg2Y
(function(){var c={target:"srcElement",type:"type",clientX:"clientX",clientY:"clientY",altKey:"altKey",ctrlKey:"ctrlKey",shiftKey:"shiftKey",pageX:"pageX",pageY:"pageY",relatedTarget:"relatedTarget",button:"button",direction:"direction",distance:"distance",duration:"duration",startX:"startX",startY:"startY",endX:"endX",endY:"endY",detail:"detail",wheelDelta:"wheelDelta",wheelDeltaX:"wheelDeltaX",wheelDeltaY:"wheelDeltaY",screenX:"screenX",screenY:"screenY"},f,g;Aria.classDefinition({$classpath:"aria.DomEvent",
$dependencies:["aria.core.Browser"],$onload:function(){f=aria.core.Browser.isIE6||aria.core.Browser.isIE7||aria.core.Browser.isIE8;g=!(aria.core.Browser.isIE||aria.core.Browser.isOpera||aria.core.Browser.isChrome||aria.core.Browser.isSafari)},$constructor:function(a){if(a.$DomEvent==null&&f&&Aria.$window.event){a=Aria.$window.event;for(var b in c)if(c.hasOwnProperty(b))this[b]=a[c[b]];if(a.type=="mouseout")this.relatedTarget=a.toElement;else if(a.type=="mouseover")this.relatedTarget=a.fromElement}else for(b in c)if(c.hasOwnProperty(b))this[b]=
a[b];this.type=this.type.toLowerCase();this.keyCode=this.charCode=0;if(this.type=="keydown"||this.type=="keyup"){this.keyCode=a.keyCode;this.isSpecialKey=this.isSpecialKey(this.keyCode,a)}else if(this.type=="keypress"){b=a.keyCode||a.charCode;var d=g&&a.keyCode;this.keyCode=b;if(!d){this.keyCode=b;if(b>32&&b<38)this.keyCode=b+16;if(b>41&&b<48)this.keyCode=b+64;if(b>47&&b<58)this.keyCode=b+48;if(b>96&&b<123)this.keyCode=b-32}this.charCode=b;this.isSpecialKey=this.isSpecialKey(this.keyCode,a)}else if(this.type==
"focusin")this.type="focus";else if(this.type=="focusout")this.type="blur";else if(this.type=="dommousescroll")this.type="mousewheel";this.hasPreventDefault=this.hasStopPropagation=false;this.preventDefault=!a.preventDefault?function(e){this.hasPreventDefault=true;a.returnValue=false;e===true&&this.stopPropagation()}:function(e){this.hasPreventDefault=true;a.preventDefault();e===true&&this.stopPropagation()};this.stopPropagation=!a.stopPropagation?function(){this.hasStopPropagation=true;a.cancelBubble=
true}:function(){this.hasStopPropagation=true;a.stopPropagation()};this._dispose=function(){this.stopPropagation=this.preventDefault=a=null}},$destructor:function(){if(this._dispose){this.delegateTarget=this.target=null;this._dispose()}},$prototype:{_ariaDomEvent:true,_wrapperNumber:0,disposeWrapper:function(){if(this._wrapperNumber===0)this.$dispose();else this._wrapperNumber--},setTarget:function(a){this.target=a}},$statics:{getWrapper:function(a){if(a&&a._ariaDomEvent){a._wrapperNumber++;return a}else return new aria.DomEvent(a)},
KC_BACKSPACE:8,KC_TAB:9,KC_NUM_CENTER:12,KC_ENTER:13,KC_RETURN:13,KC_SHIFT:16,KC_CTRL:17,KC_CONTROL:17,KC_ALT:18,KC_PAUSE:19,KC_CAPS_LOCK:20,KC_ESCAPE:27,KC_SPACE:32,KC_PAGEUP:33,KC_PAGE_UP:33,KC_PAGEDOWN:34,KC_PAGE_DOWN:34,KC_END:35,KC_HOME:36,KC_LEFT:37,KC_ARROW_LEFT:37,KC_UP:38,KC_ARROW_UP:38,KC_RIGHT:39,KC_ARROW_RIGHT:39,KC_DOWN:40,KC_ARROW_DOWN:40,KC_PRINT_SCREEN:44,KC_INSERT:45,KC_DELETE:46,KC_ZERO:48,KC_ONE:49,KC_TWO:50,KC_THREE:51,KC_FOUR:52,KC_FIVE:53,KC_SIX:54,KC_SEVEN:55,KC_EIGHT:56,KC_NINE:57,
KC_A:65,KC_B:66,KC_C:67,KC_D:68,KC_E:69,KC_F:70,KC_G:71,KC_H:72,KC_I:73,KC_J:74,KC_K:75,KC_L:76,KC_M:77,KC_N:78,KC_O:79,KC_P:80,KC_Q:81,KC_R:82,KC_S:83,KC_T:84,KC_U:85,KC_V:86,KC_W:87,KC_X:88,KC_Y:89,KC_Z:90,KC_CONTEXT_MENU:93,KC_NUM_ZERO:96,KC_NUM_ONE:97,KC_NUM_TWO:98,KC_NUM_THREE:99,KC_NUM_FOUR:100,KC_NUM_FIVE:101,KC_NUM_SIX:102,KC_NUM_SEVEN:103,KC_NUM_EIGHT:104,KC_NUM_NINE:105,KC_MULTIPLY:106,KC_PLUS:107,KC_MINUS:109,KC_PERIOD:110,KC_DIVISION:111,KC_DIVIDE:111,KC_F1:112,KC_F2:113,KC_F3:114,KC_F4:115,
KC_F5:116,KC_F6:117,KC_F7:118,KC_F8:119,KC_F9:120,KC_F10:121,KC_F11:122,KC_F12:123,isSpecialKey:function(a,b){if(a>32&&a<41)return true;if(a==8||a==9||a==13||a==27)return true;if(a==45||a==46)return false;if(b.ctrlKey&&a!=this.KC_CTRL)return true;if(b.altKey&&a!=this.KC_ALT)return true;return false},isNavigationKey:function(a){if(a>32&&a<41)return true;if(a==9||a==13||a==27)return true;return false},getFakeEvent:function(a,b){var d=new aria.DomEvent({type:a});d.type=a;d.target=b;return d}}})})();